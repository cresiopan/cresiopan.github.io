<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-09-16 Wed 12:19 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org mode" />
<link rel="stylesheet" type="text/css" href="/res/org.css"/>
<link rel="stylesheet" type="text/css" href="../res/org.css"/>

<script type="text/javascript" src="https://orgmode.org/org-info.js">
/**
 *
 * @source: https://orgmode.org/org-info.js
 *
 * @licstart  The following is the entire license notice for the
 *  JavaScript code in https://orgmode.org/org-info.js.
 *
 * Copyright (C) 2012-2020 Free Software Foundation, Inc.
 *
 *
 * The JavaScript code in this tag is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 *
 * @licend  The above is the entire license notice
 * for the JavaScript code in https://orgmode.org/org-info.js.
 *
 */
</script>

<script type="text/javascript">

/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/

<!--/*--><![CDATA[/*><!--*/
org_html_manager.set("TOC_DEPTH", "6");
org_html_manager.set("LINK_HOME", "");
org_html_manager.set("LINK_UP", "");
org_html_manager.set("LOCAL_TOC", "1");
org_html_manager.set("VIEW_BUTTONS", "0");
org_html_manager.set("MOUSE_HINT", "underline");
org_html_manager.set("FIXED_TOC", "0");
org_html_manager.set("TOC", "0");
org_html_manager.set("VIEW", "info");
org_html_manager.setup();  // activate after the parameters are set
/*]]>*///-->
</script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org59d9dfd">1. modelo relacional</a></li>
<li><a href="#org76b3c8c">2. algebra relacional</a>
<ul>
<li><a href="#orgbdbd605">2.1. extension del algebra relacional</a></li>
</ul>
</li>
<li><a href="#orgc63d32a">3. calculo relacional</a>
<ul>
<li><a href="#org0fcd458">3.1. calculo relacional de tuplas</a></li>
<li><a href="#org5e8cd2a">3.2. calculo relacional de dominios</a></li>
</ul>
</li>
<li><a href="#orgbe69beb">4. <span class="todo TODO">TODO</span> SQL</a></li>
<li><a href="#org51e407b">5. <span class="todo TODO">TODO</span> dise√±o relacional</a>
<ul>
<li><a href="#orgf77f216">5.1. formas normales</a>
<ul>
<li><a href="#orga3661db">5.1.1. 1fn</a></li>
<li><a href="#org79e7d7d">5.1.2. 2fn</a></li>
<li><a href="#orgb747d15">5.1.3. 3fn</a></li>
<li><a href="#org9528e8b">5.1.4. fnbc</a></li>
<li><a href="#orgd763566">5.1.5. 4fn</a></li>
<li><a href="#org35c38ac">5.1.6. 5fn</a></li>
</ul>
</li>
<li><a href="#org7670f88">5.2. algritmos de normalizacion</a>
<ul>
<li><a href="#orgb735ea8">5.2.1. inferencia de df | axiomas de armstrong</a></li>
<li><a href="#org0af8004">5.2.2. clausuras</a>
<ul>
<li><a href="#org367e3ca">5.2.2.1. X*</a></li>
</ul>
</li>
<li><a href="#org88458f7">5.2.3. cubrimiento minimal y equivalencia</a>
<ul>
<li><a href="#orgaaabfc2">5.2.3.1. algoritmo</a></li>
</ul>
</li>
<li><a href="#orga599119">5.2.4. 3fn</a></li>
<li><a href="#org83f65a4">5.2.5. <span class="todo TODO">TODO</span> CK</a></li>
<li><a href="#orgc696126">5.2.6. <span class="todo TODO">TODO</span> fnbc</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org46cc4b2">6. concurrencia</a>
<ul>
<li><a href="#org40e7cd8">6.1. anomalias</a></li>
<li><a href="#orgbac231b">6.2. serializabilidad</a>
<ul>
<li><a href="#orgbab07a1">6.2.1. equiv por conflictos</a></li>
<li><a href="#org714d78f">6.2.2. control de concurrencia</a>
<ul>
<li><a href="#org40e08e6">6.2.2.1. locks</a>
<ul>
<li><a href="#orgce7c5a6">6.2.2.1.1. 2pl</a></li>
</ul>
</li>
<li><a href="#orgb5d741b">6.2.2.2. multiversion mvcc</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgc7b3f37">6.3. recuperabilidad</a>
<ul>
<li><a href="#org5d6a217">6.3.1. s2pl</a></li>
<li><a href="#orgde2ca30">6.3.2. r2pl</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgcb74956">7. <span class="todo TODO">TODO</span> nosql</a>
<ul>
<li><a href="#orgc6d0a97">7.1. distribucion</a>
<ul>
<li><a href="#orgff5ab05">7.1.1. fragmentacion</a>
<ul>
<li><a href="#org326506d">7.1.1.1. horizontal</a></li>
<li><a href="#org480cbc9">7.1.1.2. vertical</a></li>
</ul>
</li>
<li><a href="#org302e87a">7.1.2. replicacion</a></li>
<li><a href="#orgf516275">7.1.3. tablas de hash distribuidas</a></li>
<li><a href="#org1f2b892">7.1.4. modelos de consistencia</a>
<ul>
<li><a href="#org43261c2">7.1.4.1. consistencia secuencial</a></li>
<li><a href="#org7d10e65">7.1.4.2. causal</a></li>
<li><a href="#org577867d">7.1.4.3. eventual</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org18851e5">7.2. clasificacion</a>
<ul>
<li><a href="#org1a2ba4b">7.2.1. clave valor</a>
<ul>
<li><a href="#org06c626c">7.2.1.1. <span class="todo TODO">TODO</span> dynamo</a></li>
</ul>
</li>
<li><a href="#orga4305fb">7.2.2. wide column</a>
<ul>
<li><a href="#org33c1cfa">7.2.2.1. cassandra</a></li>
</ul>
</li>
<li><a href="#org78358fc">7.2.3. orientadas a documentos</a></li>
<li><a href="#org56cbee8">7.2.4. basadas en grafos</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgbf04a4b">8. procesamiento de consultas</a>
<ul>
<li><a href="#org6233831">8.1. costos</a>
<ul>
<li><a href="#orga5c3227">8.1.1. seleccion</a>
<ul>
<li><a href="#org228f6b8">8.1.1.1. file scan</a></li>
<li><a href="#orgc501fd9">8.1.1.2. index scan</a></li>
</ul>
</li>
<li><a href="#orgcdc663a">8.1.2. proyeccion</a></li>
<li><a href="#org16d7d06">8.1.3. junta</a>
<ul>
<li><a href="#org935df56">8.1.3.1. loop anidados por bloque</a></li>
<li><a href="#org599d339">8.1.3.2. unico loop</a></li>
<li><a href="#org0d6a87d">8.1.3.3. sort-merge</a></li>
<li><a href="#orgc5a167e">8.1.3.4. junta hash grace</a></li>
</ul>
</li>
<li><a href="#orgfe7f882">8.1.4. pipelining</a></li>
</ul>
</li>
<li><a href="#org7cad893">8.2. <span class="todo TODO">TODO</span> estimacion de cardinalidad (falta histograma)</a>
<ul>
<li><a href="#orga1d007e">8.2.1. proyeccion</a></li>
<li><a href="#org78ab33d">8.2.2. seleccion</a></li>
<li><a href="#org74f354e">8.2.3. junta</a></li>
</ul>
</li>
<li><a href="#orgf6e4895">8.3. heuristicas de optimizacion</a></li>
</ul>
</li>
<li><a href="#orga3c7481">9. geograficas</a>
<ul>
<li><a href="#org16b7478">9.1. simple features</a></li>
<li><a href="#orga9dad5d">9.2. indexado de datos espaciales</a>
<ul>
<li><a href="#org8b78353">9.2.1. kd-trees</a></li>
<li><a href="#org4b3cea6">9.2.2. R-trees</a></li>
<li><a href="#orgd3a205c">9.2.3. quad-trees</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgaf31f21">10. seguridad</a>
<ul>
<li><a href="#org0ba7e5d">10.1. rbac (control de accesos basado en roles)</a>
<ul>
<li><a href="#orgd21eacd">10.1.1. DAC (discretionary access control)</a></li>
<li><a href="#org5842108">10.1.2. MAC (mandatory access control)</a></li>
<li><a href="#org4174b3b">10.1.3. RBAC</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgcc1f8d7">11. recuperacion</a>
<ul>
<li><a href="#orgbf3d299">11.1. gestor de recuperacion</a></li>
<li><a href="#org5d96d58">11.2. algoritmos</a>
<ul>
<li><a href="#orgbfdf3da">11.2.1. undo</a></li>
<li><a href="#orgd931e51">11.2.2. redo</a></li>
<li><a href="#orge2272c5">11.2.3. undo/redo</a></li>
</ul>
</li>
<li><a href="#orgd1d693b">11.3. checkpointing</a>
<ul>
<li><a href="#org7cd1eb1">11.3.1. undo</a>
<ul>
<li><a href="#org8848463">11.3.1.1. inactivo</a></li>
<li><a href="#orge8b18ef">11.3.1.2. activo</a></li>
</ul>
</li>
<li><a href="#orgb600d8e">11.3.2. redo</a>
<ul>
<li><a href="#org882345c">11.3.2.1. activo</a></li>
</ul>
</li>
<li><a href="#org881686d">11.3.3. undo redo</a>
<ul>
<li><a href="#org6a92504">11.3.3.1. activo</a></li>
</ul>
</li>
<li><a href="#orga5bfab9">11.3.4. resumen</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orge99796a">12. datawarehousing</a>
<ul>
<li><a href="#org32526ec">12.1. oltp online transaction processing</a></li>
<li><a href="#org2b38422">12.2. olap online analitical processing</a></li>
<li><a href="#org09f7655">12.3. datawarehouse</a>
<ul>
<li><a href="#orgcc4f9fc">12.3.1. modelo dimensional</a>
<ul>
<li><a href="#orgb8d59d8">12.3.1.1. modelo conceptual</a>
<ul>
<li><a href="#org5fb8e5e">12.3.1.1.1. diag star</a></li>
</ul>
</li>
<li><a href="#org94b8376">12.3.1.2. modelo logico</a>
<ul>
<li><a href="#org0e38038">12.3.1.2.1. MOLAP</a></li>
<li><a href="#org16ebfc7">12.3.1.2.2. ROLAP</a></li>
<li><a href="#orgac015a7">12.3.1.2.3. HOLAP</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#org0160b78">12.4. operaciones OLAP</a></li>
<li><a href="#org130426e">12.5. soporte en SQL</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org59d9dfd" class="outline-2">
<h2 id="org59d9dfd"><span class="section-number-2">1</span> modelo relacional</h2>
<div class="outline-text-2" id="text-1">
<p>
modelo entidad interrelacion
</p>
<ul class="org-ul">
<li>tipo de entidad: tipo o clase de objeto
<ul class="org-ul">
<li><b>restriccion de unicidad</b>
<ul class="org-ul">
<li>cada instancia de tipo de entidad, tiene un subset de atributos que es
unico para dicha instancia/entidad</li>
<li>atributos <span class="underline">clave</span> | indentificadores unicos</li>
<li>dicho subset de atributos clave debe ser minimal, ie no posee un subset
que cumpla con la indentificacion univoca de la entidad</li>
</ul></li>
</ul></li>
<li>atributo: propiedad que describe a la entidad
<ul class="org-ul">
<li>pertenecen a un dominio</li>
<li>compuestos | simples</li>
<li>((multivaluados)) | monovaluados</li>
<li>almacenados | derivados -&#x2014;</li>
</ul></li>
<li>tipo de interrelacion: definicion de conjunto de relaciones entre entidades
<ul class="org-ul">
<li>grado | aridad: cantidad de tipos de entidad que participan de la relacion
<ul class="org-ul">
<li>binario</li>
<li>terciario</li>
<li>n ario</li>
</ul></li>
<li><b>cardinalidad</b>: maxima cant de instancias de cada tipo de entidad pueden
relacionarse con el resto de las instancias de la relacion</li>
<li><b>participacion</b>: cant minima de instancias de un tipo de entidad que se
relaciona con 1 instancia concreta de el otro tipo de entidad
<ul class="org-ul">
<li>total | parcial
<ul class="org-ul">
<li>se requiere de otra instancia al menos, del otro tipo de entidad</li>
</ul></li>
</ul></li>
<li>cardinalidad + participacion = restricciones estructurales</li>
<li>atributos: las interrelaciones pueden tener atributos</li>
<li>clave: las interrelaciones tienen claves. depende de la cardinalidad</li>
</ul></li>
</ul>

<p>
<span class="underline"><span class="underline"><span class="underline"><span class="underline">_</span></span></span></span>
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Entidad</td>
</tr>
<tbody>
<tr>
</tr>
</tbody>
</table>
<p>
(atributo)
</p>


<p>
#+BEGIN<sub>SRC</sub>
<i>r\ /ela\ \cio</i> \n/ #+END<sub>SRC</sub>
</p>


<p>
modelo entidad interrelacion avanzado
</p>

<ul class="org-ul">
<li>entidades fuerte y debiles:
<ul class="org-ul">
<li>debil: un tipo de entidad depende de otro para subsistir
<ul class="org-ul">
<li>clave: se compone de la clave de la entidad indentificadora -&#x2014;
discriminantes</li>
<li>siempre tiene participacion total</li>
</ul></li>
</ul></li>
<li>generalizacion | especializacion: representar relacion de tipo "es un"
auto,avio,tren "es un" vehiculo
<ul class="org-ul">
<li>se heredan atributos y relaciones del padre, pero pueden tener atributos
propios</li>
<li>superposicion: los subtipos pueden ser {disjuntos |
superpuestos}. superpuesto, si una instancia del padre puede
corresponderse a instancias de varios subtipos
<ul class="org-ul">
<li>superpuesta: una persona puede ser alumno y docente a la vez</li>
</ul></li>
<li>completitud: cobertura {total | parcial} del subtipo de entidad a tipos de
entidad padre
<ul class="org-ul">
<li>total: toda persona registrada debe ser alumno o docente</li>
</ul></li>
</ul></li>
<li>union: el tipo de entidad padre es subclase de los subtipos de entidad
<ul class="org-ul">
<li>los identificadores estan en los subtipos de entidad</li>
</ul></li>
</ul>
</div>
</div>



<div id="outline-container-org76b3c8c" class="outline-2">
<h2 id="org76b3c8c"><span class="section-number-2">2</span> algebra relacional</h2>
<div class="outline-text-2" id="text-2">
<p>
lenguaje procedural: indica el procedimiento a seguir con sus operaciones
</p>

<p>
especifica procedimientos de consulta a partir de operaciones
</p>

<p>
operaciones
</p>
<ul class="org-ul">
<li>seleccion \(\sigma\)</li>
<li>proyeccion \(\pi\)</li>
<li>asignacion \(\leftarrow\)</li>
<li>redenominacion \(\rho\)</li>
<li>union \(\cup\)</li>
<li>interseccion \(\cap\)</li>
<li>diferencia \(-\)</li>
<li>producto cartesiano \(\times\)</li>
<li>junta: producto cartesiano con seleccion
<ul class="org-ul">
<li>natural: los nombres de atributos de las relaciones de la junta son iguales
<ul class="org-ul">
<li>la condicion de la seleccion es por igualdad de valor de los atributos, y
solamente igualdad</li>
</ul></li>
</ul></li>
<li><p>
division: operacion inversa al producto cartesiano
Sean R(A1 A2 &#x2026; An), S(B1 B2 &#x2026; Bm) A = {A1 A2 &#x2026; An}, B{B1 B2 &#x2026; Bm} B
&sub; A Y = A - B
</p>

<p>
\[div(R,S) = T(Y) = {t \in \pi_{Y}(R): \forall s \in S \exists r \in R /
    r[Y] = t \land r[B] = s}\]
</p></li>
</ul>

<p>
\({\sigma, \pi, \rho, \cup, -, \times}\) es un conjunto completo de operadores
</p>
</div>

<div id="outline-container-orgbdbd605" class="outline-3">
<h3 id="orgbdbd605"><span class="section-number-3">2.1</span> extension del algebra relacional</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>proyeccion generalizada</li>
<li>agregacion</li>
<li>junta externa
outer join, evita que se descarten las tuplas que no cumplen con la
condicion de igualdad de los atributos de la junta</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-orgc63d32a" class="outline-2">
<h2 id="orgc63d32a"><span class="section-number-2">3</span> calculo relacional</h2>
<div class="outline-text-2" id="text-3">
<p>
lenguaje declarativo: indica el resultado que se quiere
</p>

<p>
los esquemas de relacion pueden pensarse como predicados
</p>

<p>
logica de predicados
</p>
<ul class="org-ul">
<li>predicados: funciones de variables cuyo resultado es un valor de verdad</li>
<li>operaciones entre predicados: &and;, &or;, &not;, \implies</li>
<li>cuantificadores de variables
<ul class="org-ul">
<li>universal &forall;</li>
<li>existencia &exist;</li>
</ul></li>
</ul>
</div>

<div id="outline-container-org0fcd458" class="outline-3">
<h3 id="org0fcd458"><span class="section-number-3">3.1</span> calculo relacional de tuplas</h3>
<div class="outline-text-3" id="text-3-1">
<p>
variables representan tuplas
</p>

<p>
nombre de jugadores nacidos antes de 1980
</p>

<p>
{p.name | Player(p) &and; p.date<sub>birth</sub> &lt; 1980-01-01}
</p>


<p>
jugadores que hicieron algun gol
</p>

<p>
{p | Player(p) &and; (&exist; s)(Score(s) &and; s.player<sub>id</sub> = p.id)}
</p>

<p>
UNA VARIABLE CUANTIFICADA NO PUEDE APARECER DEL LADO IZQUIERDO DEL PIPE "|"
</p>


<p>
jugador mas viejo
</p>

<p>
x {p | Player(p) &and; (&forall; j)(Player(j) &and; p.date<sub>birth</sub> &lt;=
j.date<sub>birth</sub>)}
</p>

<p>
! {p | Player(p) &and; (&forall; j)(&not; Player(j) &or; p.date<sub>birth</sub> &gt;=
j.date<sub>birth</sub>)}
</p>




<p>
{c.nombre | Campeones(c) &and; (&forall; t)(&not; Torneos(t) &or; t.tipo<sub>torneo</sub>
&ne; "Gand Slam" &or; (&exist; c1)(Campeones(c1) &and; c1.nombre<sub>torneo</sub> =
t.nombre<sub>torneo</sub> &and; c.nombre<sub>tenista</sub> = c1.nombre<sub>tenista</sub>))}
</p>


<p>
#+BEGIN<sub>SRC</sub> ?
not exists t = forall not t not forall t = exists not t #+END<sub>SRC</sub>
</p>
</div>
</div>


<div id="outline-container-org5e8cd2a" class="outline-3">
<h3 id="org5e8cd2a"><span class="section-number-3">3.2</span> calculo relacional de dominios</h3>
<div class="outline-text-3" id="text-3-2">
<p>
variables representan dominios
</p>

<p>
{x1 &#x2026; xn | p(x1 &#x2026; xn xn+1 &#x2026; xn+m)}
</p>

<p>
p: predicado valido
</p>

<p>
(x1 &#x2026; xn) variables libres
</p>

<p>
(xn+1 &#x2026; xn+m) variables ligadas
</p>


<p>
nombrar a todos los hijos de Abraham Simpson
</p>

<p>
{h n1 | Ed1 Eg1 Ef1 Ed2 En2 Eg2 Ef2 Ep (Persona(d1,n1,g1,f1) and
Persona(d2,n2,g2,f2) and HijoDe(p,h) and n2 = "Abraham Simpson" and p = d2
and h = d1)}
</p>
</div>
</div>
</div>


<div id="outline-container-orgbe69beb" class="outline-2">
<h2 id="orgbe69beb"><span class="section-number-2">4</span> <span class="todo TODO">TODO</span> SQL</h2>
</div>

<div id="outline-container-org51e407b" class="outline-2">
<h2 id="org51e407b"><span class="section-number-2">5</span> <span class="todo TODO">TODO</span> dise√±o relacional</h2>
<div class="outline-text-2" id="text-5">
<p>
preservacion de informacion
</p>

<p>
redundancia minima
</p>

<dl class="org-dl">
<dt>dependencia funcional</dt><dd><p>
X -&gt; Y, con X Y &sub; R restriccion sobre las
posibles tuplas de una relacion R que implica que 2 tuplas con igual
valor del conjunto de atributos X deben tener tambien igual valor del
conjunto de atributos Y
</p>

<p>
\[\forall s,t \in R: s[X]=t[X] \implies s[Y]=t[Y]\]
</p></dd>
</dl>
</div>

<div id="outline-container-orgf77f216" class="outline-3">
<h3 id="orgf77f216"><span class="section-number-3">5.1</span> formas normales</h3>
<div class="outline-text-3" id="text-5-1">
<p>
normalizacion:
</p>
<ul class="org-ul">
<li>preservar informacion</li>
<li>eliminar redudancia</li>
<li>evitar las anomalias de abm (alta baja modi)</li>
</ul>
</div>

<div id="outline-container-orga3661db" class="outline-4">
<h4 id="orga3661db"><span class="section-number-4">5.1.1</span> 1fn</h4>
<div class="outline-text-4" id="text-5-1-1">
<p>
los dominios de todos los atributos permiten valores atomicos y monovaluados
</p>
</div>
</div>

<div id="outline-container-org79e7d7d" class="outline-4">
<h4 id="org79e7d7d"><span class="section-number-4">5.1.2</span> 2fn</h4>
<div class="outline-text-4" id="text-5-1-2">
<dl class="org-dl">
<dt>dependencia funcional parcial</dt><dd>PK -&gt; X es una df parcial si X no depende de
la PK completa, sino de una parte solamente.  X -&gt; Y es una df parcial
cuando &exist; A &sub; X, A &ne; X &and; A -&gt; Y</dd>

<dt>dependencia funcional completa</dt><dd>X -&gt; Y es completa sii no es parcial</dd>

<dt>atributo primo de una relacion</dt><dd>atributo que parte de alguna CK de la
relacion</dd>
</dl>

<p>
Una relacion esta en 2fn cuando todos sus atributos no primos tienen df
completa de las claves candidatas
</p>
</div>
</div>

<div id="outline-container-orgb747d15" class="outline-4">
<h4 id="orgb747d15"><span class="section-number-4">5.1.3</span> 3fn</h4>
<div class="outline-text-4" id="text-5-1-3">
<dl class="org-dl">
<dt>descomposicion</dt><dd>dada una relacion R(a1 a2 &#x2026; an) y un set de df F, decimos
que un set de relaciones R1(b11 b12 &#x2026; b1n) &#x2026; Rm(bm1
bm2 &#x2026; bmn) es una descomposicion de R cuando todos los
atributos de R se conservan, ie: \[\cup_{i=1}^{n} A_{i}
                        = \cup_{i=1}^{m} \cup_{j=1}^{n} B_{ij}\]</dd>

<dt>preservacion de informacion</dt><dd>una descomposicion cumple que para toda
instancia de R, la junta de las proyecciones sobre los R<sub>i</sub> permite
recuperar la misma instancia de la relacion</dd>

<dt>preservacion de df</dt><dd>toda df en R puede inferirse a partir de las df
definidas en los R<sub>i</sub></dd>

<dt>descomposicion equivalente</dt><dd>preserva info y df</dd>

<dt>df transitiva en la clave primaria</dt><dd>un atributo no primo tiene df con otro
atributo no primo</dd>

<dt>df transitiva</dt><dd>X -&gt; Y es transitiva cuando &exist; Z : X -&gt; Z &and; Z -&gt; Y,
siendo X-&gt;Y, Z -&gt; Y no triviales y Z -/-&gt; X</dd>
</dl>

<p>
Una relacion esta en 3fn cuando no existen df transitiva CK<sub>i</sub> -&gt; Y de
atributos no primos (Y \nsubset &cup;<sub>i</sub> CK<sub>i</sub>)
</p>

<p>
para toda df no trivial X -&gt; Y, X es superclave o Y contiene solo atributos
primos
</p>

<p>
ningun atributo no primo tiene df con otro atributo no primo
</p>

<p>
Lo siguiente no puede suceder
</p>

<p>
CK -&gt; X -&gt; Y
</p>
<ol class="org-ol">
<li>X no primo</li>
<li>Y no primo</li>
</ol>
</div>
</div>

<div id="outline-container-org9528e8b" class="outline-4">
<h4 id="org9528e8b"><span class="section-number-4">5.1.4</span> fnbc</h4>
<div class="outline-text-4" id="text-5-1-4">
<p>
no puede haber df transitivas de una CK, inclusive de atributos primos
</p>


<p>
Lo siguiente no puede suceder
</p>

<p>
CK -&gt; X -&gt; Y
</p>
<ol class="org-ol">
<li>Y primo</li>
</ol>

<p>
para toda df no trivial X -&gt; Y, X es superclave
</p>

<p>
fnbc resuelve el problema cuando se tiene una relacion con claves candidatas
que se solapan.
</p>
</div>
</div>

<div id="outline-container-orgd763566" class="outline-4">
<h4 id="orgd763566"><span class="section-number-4">5.1.5</span> 4fn</h4>
<div class="outline-text-4" id="text-5-1-5">
<dl class="org-dl">
<dt>dependencia multivaluada</dt><dd><p>
dada la rel R(A), la df multivaluada X -&gt;&gt; Y, es
una restriccion sobre las posibles tuplas de R que: &forall; t1,t2 :
t1[X] = t2[X], deberian existir otras dos tuplas t3,t4 que resulten de
intercambiar los valores de Y rnytr t1 y t2:
</p>

<p>
t3[X] = t4[X] = t1[X] = t2[X] t3[Y] = t1[Y] y t4[Y] = t2[Y] t3[A-(X+Y)]
= t2[A-(X+Y)] y t4[A-(X+Y)] = t1[A-(X+Y)]
</p></dd>
</dl>

<p>
Una rel esta en 4fn cuando para toda df multivaluada no trivial X -&gt;&gt; Y, X
es superclave
</p>

<p>
Se prohiben las df multivaluadas X -&gt;&gt; Y de atribs no primos o que no son
superclave
</p>
</div>
</div>

<div id="outline-container-org35c38ac" class="outline-4">
<h4 id="org35c38ac"><span class="section-number-4">5.1.6</span> 5fn</h4>
<div class="outline-text-4" id="text-5-1-6">
<dl class="org-dl">
<dt>dependencia de junta</dt><dd>dada R(A) , decimos que (X1 X2 &#x2026; Xn) es df de
junta cuando la descomposicion de R en &pi;<sub>X1</sub>(R) &#x2026; &pi;<sub>Xn</sub>(R) es
sin perdida de informacion, ie &pi;<sub>X1</sub>(R) &#x2026; &pi;<sub>Xn</sub>(R) = R</dd>
</dl>

<p>
Una rel R esta en 5fn sii para toda df de junta no trivial todo los X<sub>i</sub> son
superclave
</p>
</div>
</div>
</div>

<div id="outline-container-org7670f88" class="outline-3">
<h3 id="org7670f88"><span class="section-number-3">5.2</span> algritmos de normalizacion</h3>
<div class="outline-text-3" id="text-5-2">
</div>
<div id="outline-container-orgb735ea8" class="outline-4">
<h4 id="orgb735ea8"><span class="section-number-4">5.2.1</span> inferencia de df | axiomas de armstrong</h4>
<div class="outline-text-4" id="text-5-2-1">
<dl class="org-dl">
<dt>reflexividad</dt><dd>Y in X =&gt; X -&gt; Y</dd>
<dt>aumento</dt><dd>para todo W: X -&gt; Y =&gt; WX -&gt; WY</dd>
<dt>transitividad</dt><dd>X -&gt; Y y Y -&gt; Z =&gt; X -&gt; Z</dd>
</dl>

<p>
F |= X -&gt; Y significa que la df puede inferirse a partir del conj de df F
</p>

<dl class="org-dl">
<dt>union</dt><dd>X -&gt; Y y X -&gt; Z =&gt; X -&gt; YZ</dd>
<dt>pseudotransitividad</dt><dd>para todo W: X -&gt; Y y YW -&gt; Z =&gt; XW -&gt; Z</dd>
<dt>descomposicion</dt><dd>X -&gt; YZ =&gt; X -&gt; Y y X -&gt; Z</dd>
</dl>
</div>
</div>

<div id="outline-container-org0af8004" class="outline-4">
<h4 id="org0af8004"><span class="section-number-4">5.2.2</span> clausuras</h4>
<div class="outline-text-4" id="text-5-2-2">
<p>
clausura de un conj de df F
</p>

<p>
F* = {X-&gt;Y | F |= X-&gt;Y}
</p>

<p>
todas las df que se pueden inferir de F
</p>

<p>
clausura de un conj de atribs X respecto a F
</p>

<p>
X* = {A | F |= X-&gt;A}
</p>


<p>
dada R(A1 A2 &#x2026; An)
</p>

<p>
el conj de atribs CK es clave candidata sii CK* = A1 A2 &#x2026; An y es minimal
</p>
</div>


<div id="outline-container-org367e3ca" class="outline-5">
<h5 id="org367e3ca"><span class="section-number-5">5.2.2.1</span> X*</h5>
<div class="outline-text-5" id="text-5-2-2-1">
<p>
#+BEGIN<sub>SRC</sub> begin X* = X repeat oldX* = X* foreach Y -&gt; Z in F do if Y in
X* then X* += Z end end until oldX* = X* end #+END<sub>SRC</sub>
</p>
</div>
</div>
</div>

<div id="outline-container-org88458f7" class="outline-4">
<h4 id="org88458f7"><span class="section-number-4">5.2.3</span> cubrimiento minimal y equivalencia</h4>
<div class="outline-text-4" id="text-5-2-3">
<p>
dadas F y G
</p>

<p>
F cubre a G cuando
</p>

<p>
para toda X -&gt; Y in G: F |= X -&gt; Y
</p>


<p>
F y G son equivalentes cuando F cubre a G y G cubre a F
</p>

<p>
cuando sus clasuras coinciden F* = G*
</p>


<p>
cubrimiento minimal G de F
</p>
<ol class="org-ol">
<li>no hay atribs innecesarios del lado izquierdo
<ul class="org-ul">
<li>para toda X -&gt; Y in G</li>
<li>no existe Z -&gt; Y in G</li>
<li>Z in X</li>
<li>Z <code>/</code> X</li>
</ul></li>
<li>no hay df redundantes
<ul class="org-ul">
<li>no existe X -&gt; Y in G</li>
<li>G - {X -&gt; Y} &equiv; G</li>
</ul></li>
</ol>
</div>

<div id="outline-container-orgaaabfc2" class="outline-5">
<h5 id="orgaaabfc2"><span class="section-number-5">5.2.3.1</span> algoritmo</h5>
<div class="outline-text-5" id="text-5-2-3-1">
<ol class="org-ol">
<li>pasar las df a forma canonica</li>
<li>eliminar atrib innecesarios del lado izquierdo de cada df</li>
<li>eliminar las df redundantes</li>
</ol>

<div class="org-src-container">
<pre class="src src-sh"><code>begin <span style="color: #eedd82;">G</span> = F foreach X -&gt; Y<span style="color: #00ffff;"> in</span> G do <span style="color: #eedd82;">G</span> -= {X-&gt;Y} <span style="color: #00ffff;">foreach</span> A<span style="color: #00ffff;"> in</span> Y do <span style="color: #eedd82;">G</span> += {X-&gt;A}</code>
<code>  <span style="color: #00ffff;">done</span> done</code>
<code></code>
<code>  <span style="color: #00ffff;">foreach</span> X-&gt;A<span style="color: #00ffff;"> in</span> G do foreach B<span style="color: #00ffff;"> in</span> X do if {G - {X-&gt;A}} + {(X-B) -&gt; A} \equiv G</code>
<code>    <span style="color: #00ffff;">then</span> <span style="color: #eedd82;">G</span> = {G - {X-&gt;A}} + {(X-B) -&gt; A} <span style="color: #00ffff;">fi</span> done done</code>
<code></code>
<code>  <span style="color: #00ffff;">foreach</span> X-&gt;A<span style="color: #00ffff;"> in</span> G do if G - {X-&gt;A} \equiv G then <span style="color: #eedd82;">G</span> -= {X-&gt;A} <span style="color: #00ffff;">fi</span> done end</code>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orga599119" class="outline-4">
<h4 id="orga599119"><span class="section-number-4">5.2.4</span> 3fn</h4>
<div class="outline-text-4" id="text-5-2-4">
<p>
find all CK
</p>

<p>
find minimal cover G if XB -&gt; A and X -&gt; A in G B is redundant
</p>

<p>
#+BEGIN<sub>SRC</sub> sh
begin D = 0 G = cubrimiento minimal para F foreach X | E A (X-&gt;A in G) do
</p>

<p>
done end #+END<sub>SRC</sub>
</p>

<p>
<a href="https://www.youtube.com/watch?v=L5R1l2eegtE">https://www.youtube.com/watch?v=L5R1l2eegtE</a>
</p>
</div>
</div>

<div id="outline-container-org83f65a4" class="outline-4">
<h4 id="org83f65a4"><span class="section-number-4">5.2.5</span> <span class="todo TODO">TODO</span> CK</h4>
</div>
<div id="outline-container-orgc696126" class="outline-4">
<h4 id="orgc696126"><span class="section-number-4">5.2.6</span> <span class="todo TODO">TODO</span> fnbc</h4>
</div>
</div>
</div>

<div id="outline-container-org46cc4b2" class="outline-2">
<h2 id="org46cc4b2"><span class="section-number-2">6</span> concurrencia</h2>
<div class="outline-text-2" id="text-6">
<dl class="org-dl">
<dt>Transaccion</dt><dd>unidad logica de trabajo. secuencia ordenada de instrucciones
que deben ser ejecutada de forma total o no ser ejecutadas</dd>
</dl>

<p>
props acid de transacciones
</p>
<dl class="org-dl">
<dt>atomicidad</dt><dd>ejecucion completa o nada</dd>
<dt>consistencia</dt><dd>consistencia de datos. condiciones que deben verificarse
sobre los datos en todo momento</dd>
<dt>aislamiento</dt><dd>el resultado de la ejec debe ser el mismo que si las ts
fuesen ejecutadas de forma serial</dd>
<dt>durabilidad</dt><dd>persistencia de transacciones completadas</dd>
</dl>
</div>


<div id="outline-container-org40e7cd8" class="outline-3">
<h3 id="org40e7cd8"><span class="section-number-3">6.1</span> anomalias</h3>
<div class="outline-text-3" id="text-6-1">
<p>
dirty read: una T lee item modificado por otra T que se deshace (WR conflict)
</p>

<p>
lost update: una T modifica un item que fue leido antes por otra T que aun no
termin√≥. (y la 1ra modifica el item despues) (RW WW confl)
</p>

<p>
unrepeatabla read: la primer T vuelve a leer un item luego de que la 2da T
modifico el item (RW WR confl)
</p>

<p>
dirty write: una T escribe un item que fue escrito por otra T que aborta (WW)
</p>

<p>
phantom: una T realiza varias operaciones con muchos items, y estos items son
modificados/creados/eliminados por otras Ts al mismo tiempo
</p>
</div>
</div>

<div id="outline-container-orgbac231b" class="outline-3">
<h3 id="orgbac231b"><span class="section-number-3">6.2</span> serializabilidad</h3>
<div class="outline-text-3" id="text-6-2">
<p>
el resultado de la ejecucion es igual al resultado de una ejecucion serial
</p>
</div>

<div id="outline-container-orgbab07a1" class="outline-4">
<h4 id="orgbab07a1"><span class="section-number-4">6.2.1</span> equiv por conflictos</h4>
<div class="outline-text-4" id="text-6-2-1">
<dl class="org-dl">
<dt>conflicto</dt><dd>par de instrucciones ejecutadas por 2 Ts distintas sobre un mismo
item. una de ellas es una instruccion de escritura</dd>
</dl>

<p>
grafo de precedencias
</p>

<p>
si no tiene ciclos, el orden de ejecucion es serializable por conflictos
</p>

<p>
ordenamiento topologico
</p>

<p>
para todo arco x,y, el nodo x precede al nodo y
</p>
</div>
</div>

<div id="outline-container-org714d78f" class="outline-4">
<h4 id="org714d78f"><span class="section-number-4">6.2.2</span> control de concurrencia</h4>
<div class="outline-text-4" id="text-6-2-2">
</div>
<div id="outline-container-org40e08e6" class="outline-5">
<h5 id="org40e08e6"><span class="section-number-5">6.2.2.1</span> locks</h5>
<div class="outline-text-5" id="text-6-2-2-1">
<p>
bloquean a los recursos y no permiten que mas de una T los use de forma
simultanea
</p>

<p>
variables asociadas a recursos y permiten regular el acceso a ellos
</p>

<p>
exclusion mutua
</p>
</div>


<div id="outline-container-orgce7c5a6" class="outline-6">
<h6 id="orgce7c5a6"><span class="section-number-6">6.2.2.1.1</span> 2pl</h6>
<div class="outline-text-6" id="text-6-2-2-1-1">
<p>
una T no puede adquirir un lock luego de haber liberado un lock que
adquirio
</p>

<p>
el protocolo es condicion suficiente para garantizar que cualquier orden
de ejecucion sea serializable
</p>


<dl class="org-dl">
<dt>deadlock</dt><dd>condicion en la un set de Ts quedan bloqueadas a la  espera de
recursos que otra de ellas posee</dd>
</dl>

<p>
prevencion de deadlock
</p>
<ol class="org-ol">
<li>adquirir los locks de recursos que se van a utilizar, antes de comenzar con
la 1er instruccion</li>
<li>definir un ordenamiento de los items y que todas las Ts respeten dicho orden</li>
<li>metodos basados en timestamps</li>
</ol>

<p>
deteccion de deadlock
</p>
<ol class="org-ol">
<li>grafo de alocacion de recursos</li>
<li>definir un timeout para la adquisicion del lock. despues del cual se aborta
la T</li>

<li value="inanicion">cuando una T no logra ejecutarse por un periodo de tiempo
indefinido. starvation</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-orgb5d741b" class="outline-5">
<h5 id="orgb5d741b"><span class="section-number-5">6.2.2.2</span> multiversion mvcc</h5>
<div class="outline-text-5" id="text-6-2-2-2">
<p>
cada T ve un snapshot del la bdd al instante de su inicio
</p>

<ol class="org-ol">
<li>mayor solapamiento</li>
<li>requiere de mas recursos</li>
</ol>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc7b3f37" class="outline-3">
<h3 id="orgc7b3f37"><span class="section-number-3">6.3</span> recuperabilidad</h3>
<div class="outline-text-3" id="text-6-3">
<dl class="org-dl">
<dt>recuperable</dt><dd>sii ninguna T <span class="underline">T</span> realiza el commit hasta todas las T que
escribieron antes de <span class="underline">T</span> los leyera hayan commiteado</dd>
</dl>

<p>
para un solapamiento recuperable puede ser necesario abortar una T antes de
llegado su commit
</p>

<p>
para evitar rollbacks en cascada es necesario que una T no lea valores que
aun no fueron commiteados
</p>

<p>
quedan prohibidos los conflictos WT1 RT2 sin que en el medio exista un commit
de T1.
</p>
</div>

<div id="outline-container-org5d6a217" class="outline-4">
<h4 id="org5d6a217"><span class="section-number-4">6.3.1</span> s2pl</h4>
<div class="outline-text-4" id="text-6-3-1">
<p>
una T no puede adquirir un lock luego de haber liberado un lock que
adquirio, y ademas los locks de Write solo pueden ser liberados despues de
haber commiteado la transaccion
</p>
</div>
</div>

<div id="outline-container-orgde2ca30" class="outline-4">
<h4 id="orgde2ca30"><span class="section-number-4">6.3.2</span> r2pl</h4>
<div class="outline-text-4" id="text-6-3-2">
<p>
los locks solo pueden ser liberados despues del commit (si no se diferencian
los tipos de lock en Read y Write)
</p>


<p>
s2pl y r2pl garantizan serializabilidad y recuperabilidad y que no se
produce una cascada de rollbacks al deshacer una T
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgcb74956" class="outline-2">
<h2 id="orgcb74956"><span class="section-number-2">7</span> <span class="todo TODO">TODO</span> nosql</h2>
<div class="outline-text-2" id="text-7">
<p>
necesidades:
</p>
<ol class="org-ol">
<li>mayor escalabilidad para trabajar con grandes volumenes de datos</li>
<li>mayor performance en aplicaciones web</li>
<li>mayor flexibilidad sobre estructuras de datos (evolucion de los datos)</li>
<li>mayor capacidad de distribucion (disponibilidad, tolerancia a fallas,
replicacion, fragmentacion, procesamiento distribuido)</li>
</ol>
</div>

<div id="outline-container-orgc6d0a97" class="outline-3">
<h3 id="orgc6d0a97"><span class="section-number-3">7.1</span> distribucion</h3>
<div class="outline-text-3" id="text-7-1">
<p>
aumentar la capacidad de procesamiento y de almacenar info
</p>

<p>
sgdb distribuido: distrib en distintas compus en una red
</p>
</div>

<div id="outline-container-orgff5ab05" class="outline-4">
<h4 id="orgff5ab05"><span class="section-number-4">7.1.1</span> fragmentacion</h4>
<div class="outline-text-4" id="text-7-1-1">
<p>
dividir los datos de una tabla entre un conjunto de nodos
</p>

<p>
para:
</p>
<ul class="org-ul">
<li>almacenar conjuntos grandes de datos que no entran en un nodo</li>
<li>paralelizar el procesamiento, para luego integrar los resultados</li>
</ul>
</div>

<div id="outline-container-org326506d" class="outline-5">
<h5 id="org326506d"><span class="section-number-5">7.1.1.1</span> horizontal</h5>
<div class="outline-text-5" id="text-7-1-1-1">
<p>
las filas de cada tabla se reparten entre los nodos
</p>

<p>
cada nodo almacena un subset de filas
</p>
</div>
</div>

<div id="outline-container-org480cbc9" class="outline-5">
<h5 id="org480cbc9"><span class="section-number-5">7.1.1.2</span> vertical</h5>
<div class="outline-text-5" id="text-7-1-1-2">
<p>
distintos nodos guardan un subconjunto de las columnas de la tabla. todos
comparten las columnas de la clave primaria
</p>
</div>
</div>
</div>

<div id="outline-container-org302e87a" class="outline-4">
<h4 id="org302e87a"><span class="section-number-4">7.1.2</span> replicacion</h4>
<div class="outline-text-4" id="text-7-1-2">
<p>
proceso por el cual se almacenan multiples copias de un mismo dato en
distintos nodos del sistema
</p>

<p>
ventajas:
</p>
<ul class="org-ul">
<li>mecanismo de backup, recuperacion ante fallas</li>
<li>repartir la carga de procesamiento</li>
<li>garantizar cierta disponibilidad del sistema en caso de caida de algunos nodos</li>
</ul>

<p>
primaria: puede realizar procesamiento sobre los datos secundaria: solo
funciona de backup
</p>
</div>
</div>

<div id="outline-container-orgf516275" class="outline-4">
<h4 id="orgf516275"><span class="section-number-4">7.1.3</span> tablas de hash distribuidas</h4>
</div>

<div id="outline-container-org1f2b892" class="outline-4">
<h4 id="org1f2b892"><span class="section-number-4">7.1.4</span> modelos de consistencia</h4>
<div class="outline-text-4" id="text-7-1-4">
</div>
<div id="outline-container-org43261c2" class="outline-5">
<h5 id="org43261c2"><span class="section-number-5">7.1.4.1</span> consistencia secuencial</h5>
<div class="outline-text-5" id="text-7-1-4-1">
<p>
cuando el resultado de cualquier ejec concurrente de los procesos es equiv
al de alguna ejec secuencial
</p>

<p>
(ie la instruccion no comienza hasta que no terminado de aplicarse en todas
las replicas)
</p>
</div>
</div>

<div id="outline-container-org7d10e65" class="outline-5">
<h5 id="org7d10e65"><span class="section-number-5">7.1.4.2</span> causal</h5>
<div class="outline-text-5" id="text-7-1-4-2">
<p>
capturar eventos que pueden estar causalmente relacionados
</p>

<p>
dos Write que estan potencialmente causalmente relacionadas deben ser
vistas por todos en el mismo orden
</p>
</div>
</div>

<div id="outline-container-org577867d" class="outline-5">
<h5 id="org577867d"><span class="section-number-5">7.1.4.3</span> eventual</h5>
<div class="outline-text-5" id="text-7-1-4-3">
<p>
la mayoria de los procesos lee.
</p>

<p>
si en el sistema no se producen modificaciones por un tiempo
suficientemente grande, entonces eventualmente todos los procesos veran los
mismos valores
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org18851e5" class="outline-3">
<h3 id="org18851e5"><span class="section-number-3">7.2</span> clasificacion</h3>
<div class="outline-text-3" id="text-7-2">
</div>
<div id="outline-container-org1a2ba4b" class="outline-4">
<h4 id="org1a2ba4b"><span class="section-number-4">7.2.1</span> clave valor</h4>
<div class="outline-text-4" id="text-7-2-1">
<p>
almacenan vectores asociativos o diccionarios, colleciones formadas por
pares de elementos de forma (key, value)
</p>

<ul class="org-ul">
<li>berkeley DB</li>
<li>dynamo</li>
<li>redis</li>
</ul>

<p>
operaciones:
</p>
<ul class="org-ul">
<li>put</li>
<li>delete</li>
<li>update</li>
<li>get</li>
</ul>

<p>
ventaja:
</p>
<ul class="org-ul">
<li>simplicidad
<ul class="org-ul">
<li>guardar y consultar grandes cants de datos, pero no de interrelaciones entre
datos</li>
</ul></li>
<li>velocidad (prioriza eficiencia de acceso sobre integridad)</li>
<li>escalabilidad (proveen replicacion y procesamiento distribuido)</li>
</ul>
</div>

<div id="outline-container-org06c626c" class="outline-5">
<h5 id="org06c626c"><span class="section-number-5">7.2.1.1</span> <span class="todo TODO">TODO</span> dynamo</h5>
</div>
</div>

<div id="outline-container-orga4305fb" class="outline-4">
<h4 id="orga4305fb"><span class="section-number-4">7.2.2</span> wide column</h4>
<div class="outline-text-4" id="text-7-2-2">
<p>
permiten agrupar pares clave/valor vinculados a una misma entidad como
columnas asociadas a una misma clave primaria
</p>

<p>
un valor particular de la clave primaria junto con las columnas asociadas a
el forman una fila de la bdd
</p>

<p>
permiten agregar columnas en forma dinamica a una fila
</p>

<p>
un cliente que va comprando libros
</p>
</div>

<div id="outline-container-org33c1cfa" class="outline-5">
<h5 id="org33c1cfa"><span class="section-number-5">7.2.2.1</span> cassandra</h5>
<div class="outline-text-5" id="text-7-2-2-1">
<p>
clave primaria = clave de particion + clave de clustering
</p>

<p>
atributo estatico
</p>
</div>
</div>
</div>

<div id="outline-container-org78358fc" class="outline-4">
<h4 id="org78358fc"><span class="section-number-4">7.2.3</span> orientadas a documentos</h4>
</div>



<div id="outline-container-org56cbee8" class="outline-4">
<h4 id="org56cbee8"><span class="section-number-4">7.2.4</span> basadas en grafos</h4>
</div>
</div>
</div>

<div id="outline-container-orgbf04a4b" class="outline-2">
<h2 id="orgbf04a4b"><span class="section-number-2">8</span> procesamiento de consultas</h2>
<div class="outline-text-2" id="text-8">
<dl class="org-dl">
<dt>indices</dt><dd>estructura de busqueda que agilizan la busquedade registros a
partir del valor del conj de atributos
<dl class="org-dl">
<dt>primario</dt><dd>el indice se construye sobre el campo de
ordenamiento clave de un archivo ordenado</dd>
<dt>de clustering</dt><dd>el indice se construye sobre el campo de
ordenamiento fisico de un archivo y el campo
no es clave</dd>
<dt>secundario</dt><dd>el indice se construye sobre campos que no son
los campos de ordenamiento del archivo</dd>
</dl></dd>
</dl>
</div>
<div id="outline-container-org6233831" class="outline-3">
<h3 id="org6233831"><span class="section-number-3">8.1</span> costos</h3>
<div class="outline-text-3" id="text-8-1">
</div>
<div id="outline-container-orga5c3227" class="outline-4">
<h4 id="orga5c3227"><span class="section-number-4">8.1.1</span> seleccion</h4>
<div class="outline-text-4" id="text-8-1-1">
</div>
<div id="outline-container-org228f6b8" class="outline-5">
<h5 id="org228f6b8"><span class="section-number-5">8.1.1.1</span> file scan</h5>
<div class="outline-text-5" id="text-8-1-1-1">
<p>
cost(&sigma;(R)) = B(R)
</p>
</div>
</div>

<div id="outline-container-orgc501fd9" class="outline-5">
<h5 id="orgc501fd9"><span class="section-number-5">8.1.1.2</span> index scan</h5>
<div class="outline-text-5" id="text-8-1-1-2">
<ul class="org-ul">
<li>indice primario
<dl class="org-dl">
<dt>Arbol</dt><dd>\(cost(\sigma(R)) = Height(I(A,R)) + 1\)</dd>
<dt>Hash</dt><dd>\(cost(\sigma(R)) = 1\)</dd>
</dl></li>
<li>indice de clustering
<dl class="org-dl">
<dt>Arbol</dt><dd>\(cost(\sigma(R)) = Height(I(A,R)) +
                  \ceil{\frac{n(R)}{V(A,R)F(R)}}\)</dd>
</dl></li>
<li>indice secundario
<dl class="org-dl">
<dt>Arbol</dt><dd>\(cost(\sigma(R)) = Height(I(A,R)) + \frac{n(R)}{V(A,R)}\)</dd>
</dl></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgcdc663a" class="outline-4">
<h4 id="orgcdc663a"><span class="section-number-4">8.1.2</span> proyeccion</h4>
<div class="outline-text-4" id="text-8-1-2">
<p>
\(\pi_{X}(R)\)
</p>
<ul class="org-ul">
<li>X es superclave
<ul class="org-ul">
<li>\(cost(\pi_{X}(R)) = B(R)\)</li>
</ul></li>
<li>X no es superclave
<dl class="org-dl">
<dt>sort externo</dt><dd>\(cost(\pi_{X}(R)) = B(R) + 2B(R)log_{2}(B(R))\)</dd>
<dt>(no term)</dt><dd>hashing
<dl class="org-dl">
<dt>en memoria</dt><dd>\(cost(\pi_{X}(R)) = B(R)\)</dd>
<dt>externo</dt><dd>\(cost(\pi_{X}(R)) = 3B(R)\)</dd>
</dl></dd>
</dl></li>
</ul>
</div>
</div>

<div id="outline-container-org16d7d06" class="outline-4">
<h4 id="org16d7d06"><span class="section-number-4">8.1.3</span> junta</h4>
<div class="outline-text-4" id="text-8-1-3">
</div>
<div id="outline-container-org935df56" class="outline-5">
<h5 id="org935df56"><span class="section-number-5">8.1.3.1</span> loop anidados por bloque</h5>
<div class="outline-text-5" id="text-8-1-3-1">
<p>
\(cost(R*S) = min(B(R)(1+B(S)),B(S)(1+B(R)))\)
</p>

<p>
\(cost(R*S) = B(R) + B(S)\)
</p>
</div>
</div>

<div id="outline-container-org599d339" class="outline-5">
<h5 id="org599d339"><span class="section-number-5">8.1.3.2</span> unico loop</h5>
<div class="outline-text-5" id="text-8-1-3-2">
<dl class="org-dl">
<dt>indice primario</dt><dd>\(cost(R*S) = B(S) + n(S) \left(Height(I(A,R)) + 1 \right)\)</dd>
<dt>indice de clustering</dt><dd>\(cost(R*S) = B(S) + n(S) \left(Height(I(A,R)) +
          \ceil{\frac{n(R)}{V(A,R)F(R)}}\right)\)</dd>
<dt>indice secundario</dt><dd>\(cost(R*S) = B(S) + n(S) \left(Height(I(A,R)) +
          \frac{n(R)}{V(A,R)}\right)\)</dd>
</dl>
</div>
</div>

<div id="outline-container-org0d6a87d" class="outline-5">
<h5 id="org0d6a87d"><span class="section-number-5">8.1.3.3</span> sort-merge</h5>
<div class="outline-text-5" id="text-8-1-3-3">
<ol class="org-ol">
<li>ordenar los archivos de cada tabla por los atributos de la junta</li>
<li>hacer un merge de los archivos</li>
</ol>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">en memoria</td>
<td class="org-left">sort externo</td>
</tr>

<tr>
<td class="org-left">B(S)</td>
<td class="org-left">2B(S)log<sub>2</sub>(B(S))</td>
</tr>
</tbody>
</table>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">merge</td>
</tr>

<tr>
<td class="org-left">B(S)</td>
</tr>
</tbody>
</table>

<p>
\(cost(R*S) = B(R)+ B(S) + 2B(R)log_{2}(B(R)) + 2B(S)log_{2}(B(S))\)
</p>
</div>
</div>

<div id="outline-container-orgc5a167e" class="outline-5">
<h5 id="orgc5a167e"><span class="section-number-5">8.1.3.4</span> junta hash grace</h5>
<div class="outline-text-5" id="text-8-1-3-4">
<ol class="org-ol">
<li>particionar las tablas en m grupos usando una f de hash aplicada sobre los
atributos de la junta \(cost(R*S) = 2(B(R)+ B(S))\)</li>
<li>combinar cada par de grupos de cada tabla, viendo si se cumple la condicion
de junta</li>
</ol>

<p>
\(cost(R*S) = 3(B(R)+ B(S))\)
</p>
</div>
</div>
</div>

<div id="outline-container-orgfe7f882" class="outline-4">
<h4 id="orgfe7f882"><span class="section-number-4">8.1.4</span> pipelining</h4>
<div class="outline-text-4" id="text-8-1-4">
<p>
si el costo de una operacion siguiente es menor a la anterior, no agrega el
costo al plan de ejecucion
</p>
</div>
</div>
</div>


<div id="outline-container-org7cad893" class="outline-3">
<h3 id="org7cad893"><span class="section-number-3">8.2</span> <span class="todo TODO">TODO</span> estimacion de cardinalidad (falta histograma)</h3>
<div class="outline-text-3" id="text-8-2">
</div>
<div id="outline-container-orga1d007e" class="outline-4">
<h4 id="orga1d007e"><span class="section-number-4">8.2.1</span> proyeccion</h4>
</div>

<div id="outline-container-org78ab33d" class="outline-4">
<h4 id="org78ab33d"><span class="section-number-4">8.2.2</span> seleccion</h4>
<div class="outline-text-4" id="text-8-2-2">
<p>
\(n(\sigma_{A}(R)) = \frac{n(R)}{V(A,R)}\) (selectividad de A en R)
</p>
</div>
</div>

<div id="outline-container-org74f354e" class="outline-4">
<h4 id="org74f354e"><span class="section-number-4">8.2.3</span> junta</h4>
<div class="outline-text-4" id="text-8-2-3">
<p>
\(n(R*S) = \frac{n(R)n(S)}{max(V(A,R),V(A,S))}\)
</p>

<p>
\(F(R*S) \geq \left(\frac{1}{F(R)}+\frac{1}{F(S)}\right)^{-1}\)
</p>

<p>
\(B(R*S) = \frac{B(R)B(S)(F(R)+F(S))}{max(V(A,R),V(A,S))}\)
</p>
</div>
</div>
</div>

<div id="outline-container-orgf6e4895" class="outline-3">
<h3 id="orgf6e4895"><span class="section-number-3">8.3</span> heuristicas de optimizacion</h3>
<div class="outline-text-3" id="text-8-3">
<ol class="org-ol">
<li>selecciones lo mas temprano posible</li>
<li>reemplazar prod cart por juntas</li>
<li>proyectar para descartar atributos no utilzados</li>
<li>relizar la junta mas restrictiva primero, en caso de haber varias</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-orga3c7481" class="outline-2">
<h2 id="orga3c7481"><span class="section-number-2">9</span> geograficas</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-org16b7478" class="outline-3">
<h3 id="org16b7478"><span class="section-number-3">9.1</span> simple features</h3>
<div class="outline-text-3" id="text-9-1">
<ul class="org-ul">
<li>geometrias: puntos, lineas, poligonos</li>
<li>metodos basicos: asociados al objeto geometrico, area, perimetro</li>
<li>predicados de relacion: metodos que verifican una relacion entre objetos,
interseccion</li>
<li>metodo de analisis espacial: permiten operar a objetos con otros,
interseccion, union</li>
</ul>
</div>
</div>

<div id="outline-container-orga9dad5d" class="outline-3">
<h3 id="orga9dad5d"><span class="section-number-3">9.2</span> indexado de datos espaciales</h3>
<div class="outline-text-3" id="text-9-2">
<p>
buscar y combinar objetos de manera eficiente
</p>

<p>
ventajas y desventajas
</p>
<ul class="org-ul">
<li>tipos de objetos geometricos que se pueden almacenar</li>
<li>tipo de consulta que se pueden resolver</li>
<li>la complejudad de operaciones de insercion y eliminacion</li>
</ul>
</div>

<div id="outline-container-org8b78353" class="outline-4">
<h4 id="org8b78353"><span class="section-number-4">9.2.1</span> kd-trees</h4>
<div class="outline-text-4" id="text-9-2-1">
<p>
cada nodo no hoja esta asociado a un punto del set de datos y una dimension
</p>

<p>
divide el espacio en 2
</p>

<p>
los nodos hoja estan asociados directamente a un punto del set de datos
</p>

<ul class="org-ul">
<li>busqueda por rango</li>
<li>busqueda del vecino mas cercano</li>
</ul>
</div>
</div>

<div id="outline-container-org4b3cea6" class="outline-4">
<h4 id="org4b3cea6"><span class="section-number-4">9.2.2</span> R-trees</h4>
<div class="outline-text-4" id="text-9-2-2">
<p>
indexado de objetos geometricos a traves de minimum bounding rectangle
</p>

<p>
ortoedro k dimensional que contiene al objeto
</p>

<p>
se puede representar con 2 puntos k dimensionales
</p>

<p>
las hojas estan asociadas a MBRs de objetos
</p>

<p>
los nodos no hoja estan asociados a a MBR que contienen a todos los MBR de
sus hijos
</p>

<p>
pude haber solapamiento entre MBR
</p>

<p>
son arboles balanceados
</p>

<ul class="org-ul">
<li>busquedas de pertenencia (que poligonos contienen un punto x?)</li>
<li>busqueda de interseccion (que poligonos intersecta con un poligono x?)</li>
</ul>

<p>
juntas espaciales
</p>
</div>
</div>

<div id="outline-container-orgd3a205c" class="outline-4">
<h4 id="orgd3a205c"><span class="section-number-4">9.2.3</span> quad-trees</h4>
<div class="outline-text-4" id="text-9-2-3">
<p>
el espacio es descompuesto en cuadrantes disjuntos
</p>

<p>
cuando un cuadrante llega al maximo de capacidad de cantidad de objs, se
particiona en 4
</p>

<p>
indexa puntos geometricos o datos raster en 2 dimensiones
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgaf31f21" class="outline-2">
<h2 id="orgaf31f21"><span class="section-number-2">10</span> seguridad</h2>
<div class="outline-text-2" id="text-10">
<p>
seguridad de la info: {} de procedimientos y medidas tomadas para proteger los
componentes de sistemas de info
</p>
</div>

<div id="outline-container-org0ba7e5d" class="outline-3">
<h3 id="org0ba7e5d"><span class="section-number-3">10.1</span> rbac (control de accesos basado en roles)</h3>
<div class="outline-text-3" id="text-10-1">
</div>
<div id="outline-container-orgd21eacd" class="outline-4">
<h4 id="orgd21eacd"><span class="section-number-4">10.1.1</span> DAC (discretionary access control)</h4>
<div class="outline-text-4" id="text-10-1-1">
<p>
un obj solo puede ser accedido por el usu o grup al que pertenece.  existe
el concepto de owner que puede permitir el acceso al recurso a otro usu o
grup (unix)
</p>
</div>
</div>

<div id="outline-container-org5842108" class="outline-4">
<h4 id="org5842108"><span class="section-number-4">10.1.2</span> MAC (mandatory access control)</h4>
<div class="outline-text-4" id="text-10-1-2">
<p>
control de acceso es determinado por el sistema. se establecen relaciones
entre usus y objs (se asignan niveles). (dod)
</p>
</div>
</div>

<div id="outline-container-org4174b3b" class="outline-4">
<h4 id="org4174b3b"><span class="section-number-4">10.1.3</span> RBAC</h4>
<div class="outline-text-4" id="text-10-1-3">
<p>
evolucion de DAC
</p>

<p>
se definen roles para distintas actividades y funciones desarrolladas por
miembros de una orga. para regular el acceso de usuarios a los recursos
</p>

<ul class="org-ul">
<li>usuarios: personas</li>
<li>roles: funciones y responsabilidades</li>
<li>objs: a ser protegido</li>
<li>operaciones: acciones que pueden realizarse sobre los objetos</li>
<li>permisos: acciones concedidas o revocada a un usuario o rol sobre un obj</li>
</ul>

<p>
jerarquia de roles - ppios de seguridad
</p>
<ol class="org-ol">
<li>criterio de menor privilegio posible: si un usu no va a realizar una operacion, no debe
tener permisos para realizarla</li>
<li>division de responsabilidades: que nadie tenga permisos suficientes para
utilizar el sistema en benficio propio. para completar tareas sensibles,
deben participar roles mutuamente excluyentes</li>
<li>abstraccion de datos: los permisos son abstractos. las operaciones permitidas
/ prohibidas dependen de las propiedades del objeto</li>
</ol>
</div>
</div>
</div>
</div>

<div id="outline-container-orgcc1f8d7" class="outline-2">
<h2 id="orgcc1f8d7"><span class="section-number-2">11</span> recuperacion</h2>
<div class="outline-text-2" id="text-11">
<p>
fallas
</p>
<ul class="org-ul">
<li>de sistema: soft o hard que detienen la ejec del prog</li>
<li>de aplicacion: soft que utiliza la bdd</li>
<li>de dispositivo: da√±o fisico al hard</li>
<li>naturales externas: terremotos, etc</li>
</ul>


<p>
actualizacion
</p>
<ul class="org-ul">
<li>inmediata: los datos se guardan en disco antes del commit de la T</li>
<li>diferida: luego del commit</li>
</ul>
</div>


<div id="outline-container-orgbf3d299" class="outline-3">
<h3 id="orgbf3d299"><span class="section-number-3">11.1</span> gestor de recuperacion</h3>
<div class="outline-text-3" id="text-11-1">
<p>
reglas:
</p>
<ul class="org-ul">
<li>WAL (Write Ahead Log): antes de modificar el disco, modificar el log en
disco</li>
<li>FLC (Force Log at Commit): antes del commit en el log, volcar el log a
disco</li>
</ul>
</div>
</div>

<div id="outline-container-org5d96d58" class="outline-3">
<h3 id="org5d96d58"><span class="section-number-3">11.2</span> algoritmos</h3>
<div class="outline-text-3" id="text-11-2">
</div>
<div id="outline-container-orgbfdf3da" class="outline-4">
<h4 id="orgbfdf3da"><span class="section-number-4">11.2.1</span> undo</h4>
<div class="outline-text-4" id="text-11-2-1">
<p>
todo vOld asignado por una T que ya commiteo, debe ser guardado en log en
disco, antes de que la modificacion por otra T, sea guardada en disco.
</p>

<ol class="org-ol">
<li>T modifica X, vOld por v, escribe (WRITE T X vOld) en log en disco</li>
<li>registrar y flushear el WRITE en log antes de flushear el nuevo valor en
disco <code>WAL</code></li>
<li>todo item modificado debe ser guardado en disco antes del commit</li>
<li>cuando T hace commit, escribir (COMMIT T) en log en disco <code>FLC</code></li>
</ol>

<p>
reinicio
</p>
<ol class="org-ol">
<li>recorrer log de adelante hacia atras</li>
<li>por cada T que no commiteo, aplicar su WRITE (que escribe el valor
anterior)</li>
<li>por cada T que no commiteo, escribir ABORT T en log en disco</li>
</ol>
</div>
</div>

<div id="outline-container-orgd931e51" class="outline-4">
<h4 id="orgd931e51"><span class="section-number-4">11.2.2</span> redo</h4>
<div class="outline-text-4" id="text-11-2-2">
<p>
antes de realizar el commit, el valor nuevo v asignado por T debe ser
guardado en log en disco
</p>

<ol class="org-ol">
<li>cuando T modifica X, vOld por v, escribe (WRITE T X v) en log</li>
<li>T hace commit, escribir (COMMIT T) en log en disco</li>
<li>escribir el nuevo valor en disco</li>
</ol>

<p>
reinicio
</p>
<ol class="org-ol">
<li>analizar cuales son las T con commit</li>
<li>recorrer el log de atras hacia adelante, aplicar los WRITE de las T que
commitearon</li>
<li>por cada T que no commiteo, abortarla (ABORT en log en disco)</li>
</ol>
</div>
</div>

<div id="outline-container-orge2272c5" class="outline-4">
<h4 id="orge2272c5"><span class="section-number-4">11.2.3</span> undo/redo</h4>
<div class="outline-text-4" id="text-11-2-3">
<ol class="org-ol">
<li>T modifica X, vOld por v, escribe (WRITE T X vOld v) en log</li>
<li>flushear log antes de escribir el nuevo valor v en disco</li>
<li>T hace commit, escribir (COMMIT T) en log en disco</li>
<li>se puede escribir en disco antes o despues del commit</li>
</ol>

<p>
reinicio
</p>
<ol class="org-ol">
<li>recorrer el log de adelante hacia atras</li>
<li>por cada T sin commit, aplicar cada WRITE escribiendo vOld en disco</li>
<li>recorrer el log de atras hacia adelante</li>
<li>por cada T con commit, aplicar cada WRITE escribiendo v en disco</li>
<li>por cada T sin commit, escribir (ABORT T) en log en disco</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-orgd1d693b" class="outline-3">
<h3 id="orgd1d693b"><span class="section-number-3">11.3</span> checkpointing</h3>
<div class="outline-text-3" id="text-11-3">
<p>
para evitar el retroceso hasta el inicio del sistema
</p>

<p>
registro en log que indica que los items modificados hasta ese punto fueron
almacenados en disco
</p>

<p>
inactivo: usa un registro (CKPT). suspende todas las Ts para volcar todos los
buffers a memoria
</p>

<p>
activo: usa 2 registros, para no suspender por mucho tiempo la ejecucion
</p>
</div>

<div id="outline-container-org7cd1eb1" class="outline-4">
<h4 id="org7cd1eb1"><span class="section-number-4">11.3.1</span> undo</h4>
<div class="outline-text-4" id="text-11-3-1">
</div>
<div id="outline-container-org8848463" class="outline-5">
<h5 id="org8848463"><span class="section-number-5">11.3.1.1</span> inactivo</h5>
<div class="outline-text-5" id="text-11-3-1-1">
<ol class="org-ol">
<li>dejar de hacer nuevas Ts</li>
<li>esperar a que todas hagan commit (en log en disco)</li>
<li>escribir (CKPT) en log en disco</li>
</ol>

<p>
reinicio
</p>
<ol class="org-ol">
<li>deshacer las Ts sin commit hasta encontrar el (CKPT)</li>
</ol>
</div>
</div>

<div id="outline-container-orge8b18ef" class="outline-5">
<h5 id="orge8b18ef"><span class="section-number-5">11.3.1.2</span> activo</h5>
<div class="outline-text-5" id="text-11-3-1-2">
<ol class="org-ol">
<li>escribir (BEGIN CKPT t) donde t es una lista de las Ts activas hasta el
momento (en log en disco)</li>
<li>esperar a que todas las activas hagan commit</li>
<li>escribir (END CKPT) en log en disco</li>
</ol>

<p>
reinicio a. encontrar 1ro un END CKPT
</p>
<ol class="org-ol">
<li>retroceder hasta el BEGIN CKPT y hacer UNDO</li>
</ol>
<p>
b. encontrar 1ro un BEGIN CKPT [t]
</p>
<ol class="org-ol">
<li>el sistema cayo sin asegurar commits de [t]</li>
<li>volver a hasta el begin de la T de [t] mas vieja</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-orgb600d8e" class="outline-4">
<h4 id="orgb600d8e"><span class="section-number-4">11.3.2</span> redo</h4>
<div class="outline-text-4" id="text-11-3-2">
</div>
<div id="outline-container-org882345c" class="outline-5">
<h5 id="org882345c"><span class="section-number-5">11.3.2.1</span> activo</h5>
<div class="outline-text-5" id="text-11-3-2-1">
<ol class="org-ol">
<li>escribir (BEGIN CKPT [t]) en log en disco</li>
<li>volcar a disco los items que fueron modificados por Ts que commitearon</li>
<li>escribir (END CKPT) en log en disco</li>
</ol>

<p>
reinicio
</p>
<ul class="org-ul">
<li>encontrar 1ro (END CKPT)
<ol class="org-ol">
<li>retroceder hasta (BEGIN T) de la T mas antigua de [t]</li>
<li>rehacer las Ts que commitearon</li>
<li>escribir ABORT T, para las T que no commitearon</li>
</ol></li>
<li>(BEGIN CKPT)
<ol class="org-ol">
<li>buscar el CKPT anterior en el log</li>
</ol></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org881686d" class="outline-4">
<h4 id="org881686d"><span class="section-number-4">11.3.3</span> undo redo</h4>
<div class="outline-text-4" id="text-11-3-3">
</div>
<div id="outline-container-org6a92504" class="outline-5">
<h5 id="org6a92504"><span class="section-number-5">11.3.3.1</span> activo</h5>
<div class="outline-text-5" id="text-11-3-3-1">
<ol class="org-ol">
<li>escribir (BEGIN CKPT [t]) en log en disco</li>
<li>volcar a disco los items modificados <span class="underline">antes</span> del BEGIN CKPT</li>
<li>escribir (END CKPT) en el log en disco</li>
</ol>

<p>
reinicio
</p>
<ol class="org-ol">
<li>retroceder hasta la T mas antigua de [t] para deshacerla si no commiteo</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-orga5bfab9" class="outline-4">
<h4 id="orga5bfab9"><span class="section-number-4">11.3.4</span> resumen</h4>
<div class="outline-text-4" id="text-11-3-4">
<p>
En el algoritmo UNDO, escribimos el (END CKPT) cuando todas las
transacciones del listado de transacciones activas hayan hecho commit.
</p>

<p>
Para el algoritmo REDO, escribimos (END CKPT) cuando todos los √≠tems
modificados por transacciones que ya hab√≠an commiteado al momento del (BEGIN
CKPT) hayan sido salvaguardadas en disco.
</p>

<p>
En el UNDO/REDO escribimos (END CKPT) cuando todos los √≠tems modificados
antes del (BEGIN CKPT) hayan sido guardados en disco.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orge99796a" class="outline-2">
<h2 id="orge99796a"><span class="section-number-2">12</span> datawarehousing</h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-org32526ec" class="outline-3">
<h3 id="org32526ec"><span class="section-number-3">12.1</span> oltp online transaction processing</h3>
<div class="outline-text-3" id="text-12-1">
<p>
capacidad de procesar Ts en linea en forma concurrente entre gran cant de
usuarios y de forma escalable es OLTP
</p>
</div>
</div>

<div id="outline-container-org2b38422" class="outline-3">
<h3 id="org2b38422"><span class="section-number-3">12.2</span> olap online analitical processing</h3>
<div class="outline-text-3" id="text-12-2">
<p>
capacidad analitica
</p>
<ul class="org-ul">
<li>reducir la cant de datos</li>
<li>expresar consultas mas complejas</li>
</ul>

<p>
para extraer info de datos almacenados que sirva de soporte para la toma de
decisiones
</p>

<p>
12 reglas olap - servicios que se deben brindar
</p>
<ul class="org-ul">
<li>vista conceptual multidim: datos en una matriz que cada dim representa un
atributo</li>
<li>manipulacion intuitiva de datos: dise√±o de vista conceptual a traves de
interfaz amigable</li>
<li>accesibilidad: homogeneizar datos que provienen de varias fuentes</li>
<li>extraccion batch e interpretativa:</li>
<li>modelos de analisis</li>
<li>arq cliente servidor</li>
</ul>
</div>
</div>

<div id="outline-container-org09f7655" class="outline-3">
<h3 id="org09f7655"><span class="section-number-3">12.3</span> datawarehouse</h3>
<div class="outline-text-3" id="text-12-3">
<p>
copia paralela de las bdd ppales de la orga donde se ejecutan las
aplicaciones OLAP
</p>
</div>

<div id="outline-container-orgcc4f9fc" class="outline-4">
<h4 id="orgcc4f9fc"><span class="section-number-4">12.3.1</span> modelo dimensional</h4>
<div class="outline-text-4" id="text-12-3-1">
</div>
<div id="outline-container-orgb8d59d8" class="outline-5">
<h5 id="orgb8d59d8"><span class="section-number-5">12.3.1.1</span> modelo conceptual</h5>
<div class="outline-text-5" id="text-12-3-1-1">
<p>
definir medidas numericas sobre un set de atributos. se llaman dimensiones
a los atributos medidos
</p>

<p>
hecho: medida numerica asociada a un valor concreto de cada de las
dimensiones
</p>

<p>
cada dimension tiene atributos asociados, por lo que se la puede
representar como una relacion
</p>
</div>

<div id="outline-container-org5fb8e5e" class="outline-6">
<h6 id="org5fb8e5e"><span class="section-number-6">12.3.1.1.1</span> diag star</h6>
<div class="outline-text-6" id="text-12-3-1-1-1">
<p>
permite comunicar la estructura de hechos y dimensiones de un DW
</p>

<p>
tabla de hechos: tabla central con las dimensiones y su medidas esta
conectada a cada una de las tablas de dimensiones
</p>
</div>
</div>
</div>


<div id="outline-container-org94b8376" class="outline-5">
<h5 id="org94b8376"><span class="section-number-5">12.3.1.2</span> modelo logico</h5>
<div class="outline-text-5" id="text-12-3-1-2">
<p>
OLAP guarda info sumarizada de las dimensiones que nos interesan
</p>
</div>

<div id="outline-container-org0e38038" class="outline-6">
<h6 id="org0e38038"><span class="section-number-6">12.3.1.2.1</span> MOLAP</h6>
<div class="outline-text-6" id="text-12-3-1-2-1">
<p>
multidimensional
</p>

<p>
los datos agregados se guardan en un bdd multidim o cubo de datos
</p>

<p>
cubo: matriz multidim que almacena una medida agregada por una serie de
dimensiones
</p>
</div>
</div>

<div id="outline-container-org16ebfc7" class="outline-6">
<h6 id="org16ebfc7"><span class="section-number-6">12.3.1.2.2</span> ROLAP</h6>
<div class="outline-text-6" id="text-12-3-1-2-2">
<p>
relational
</p>

<p>
la tabla de hechos agregada se almacena como una relacion mas
</p>

<p>
solamente se guarda la vista que la define
</p>

<p>
cada cierto tiempo la vista se ejecuta y se almacena el resultado (se
materializa)
</p>

<ul class="org-ul">
<li>inmediato: la vista se actualiza cada vez que se ejecuta una T nueva
sobre los datos</li>
<li>diferido
<ul class="org-ul">
<li>lazy: cuando el usuario lo pide</li>
<li>periodico: cada cierta cantidad de tiempo</li>
<li>forzado: luego de una cant de cambios</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgac015a7" class="outline-6">
<h6 id="orgac015a7"><span class="section-number-6">12.3.1.2.3</span> HOLAP</h6>
<div class="outline-text-6" id="text-12-3-1-2-3">
<p>
hybrid
</p>

<p>
combina un SGDB relacional con un servidor MOLAP
</p>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org0160b78" class="outline-3">
<h3 id="org0160b78"><span class="section-number-3">12.4</span> operaciones OLAP</h3>
<div class="outline-text-3" id="text-12-4">
<p>
roll-up: agregar datos de una dimension, subiendo en su jerarquia
</p>

<p>
drill down
</p>

<p>
pivoteo: producir una tabla agregada por un subset del set de dimensiones en
cierto oeden deseado
</p>

<p>
slice / dice : seleccion de una dimension / mas de una dimension (pero sin
agregar los datos debido a la seleccion)
</p>
</div>
</div>

<div id="outline-container-org130426e" class="outline-3">
<h3 id="org130426e"><span class="section-number-3">12.5</span> soporte en SQL</h3>
<div class="outline-text-3" id="text-12-5">
<p>
group by <b>grouping sets</b>
</p>

<p>
union de agrupamientos distintos, especificados por los parametros
</p>

<p>
<b>rollup</b>: realiza el agrupamiento por cada conjunto de atributos y de algunos
de sus subconjuntos
</p>

<p>
rollup(a b c) = grouping sets ((abc) (ab) (a) ())
</p>

<p>
<b>cube</b>: realiza el agrupamiento por cada conjunto de atributos y de todos sus
subconjuntos
</p>

<p>
cube(abc) = grouping sets (abc) (ab) (ac) (bc) (a) (b) (c) ()
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
Last update: 2020-09-16 12:19
</div>
</body>
</html>
