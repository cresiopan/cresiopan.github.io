<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-09-16 Wed 11:56 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="/res/org.css"/>
<link rel="stylesheet" type="text/css" href="../res/org.css"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
</head>
<body>
<div id="content">
<div id="outline-container-org1858ea9" class="outline-2">
<h2 id="org1858ea9">El Modelo Lógico Relacional</h2>
<div class="outline-text-2" id="text-org1858ea9">
</div>
<div id="outline-container-org460668c" class="outline-3">
<h3 id="org460668c">Diseño lógico</h3>
<div class="outline-text-3" id="text-org460668c">
</div>
<div id="outline-container-orge3bd588" class="outline-4">
<h4 id="orge3bd588">Arquitectura de 3 capas ANSI/SPARC</h4>
<div class="outline-text-4" id="text-orge3bd588">
<p>
Modelo lógico
Es un paso intermedio entre el modelo conceptual y el modelo
interno, que formaliza las descripciones del modelo conceptual.
</p>
</div>
</div>
</div>
<div id="outline-container-org99fed74" class="outline-3">
<h3 id="org99fed74">Modelo Relacional</h3>
<div class="outline-text-3" id="text-org99fed74">
</div>
<div id="outline-container-org9bca955" class="outline-4">
<h4 id="org9bca955">Estructura</h4>
<div class="outline-text-4" id="text-org9bca955">
</div>
<div id="outline-container-org98f1538" class="outline-5">
<h5 id="org98f1538">El modelo relacional</h5>
<div class="outline-text-5" id="text-org98f1538">
</div>
<div id="outline-container-orgbac7ebc" class="outline-6">
<h6 id="orgbac7ebc">Dominios y Relaciones [ELM16 5.1]</h6>
<div class="outline-text-6" id="text-orgbac7ebc">
<p>
Las bases de datos relacionales se basan en un modelo lógico introducido por
Codd en 1970, conocido como modelo relacional
</p>

<p>
El mismo es una formalización matemática basada en el concepto de relación
</p>

<p>
Algunas definiciones:
</p>

<ul class="org-ul">
<li>Dominio: Es un conjunto de valores homogéneos.
<ul class="org-ul">
<li>Ejemplo: D<sub>1</sub> = {Barcelona, Sevilla, Buenos Aires}</li>
<li>D<sub>2</sub> = {Argentina, España, Chile}</li>
</ul></li>
<li>Producto cartesiano: A × B se define como el conjunto de pares (a,b) que
cumplen que a ∈ A y b ∈ B.
<ul class="org-ul">
<li>En nuestro ejemplo, D<sub>1</sub> × D<sub>2</sub> = {(Barcelona, Argentina), (Barcelona,
España), (Barcelona, Chile), (Sevilla, Argentina), (Sevilla, España),
(Sevilla, Chile),(Buenos Aires, Argentina), (Buenos Aires, España), (Buenos
Aires, Chile)}</li>
</ul></li>
<li>Relación: es un subconjunto de un producto cartesiano.</li>
</ul>

<p>
En el ejemplo anterior podría especialmente interesarnos la siguiente relación:
R = {(Barcelona, España), (Sevilla, España), (Buenos Aires, Argentina)}
</p>
</div>
</div>

<div id="outline-container-org7298350" class="outline-6">
<h6 id="org7298350">Formalizacion</h6>
<div class="outline-text-6" id="text-org7298350">
<p>
El modelo relacional Formalización En el modelo relacional, un nombre de
relación R junto con una lista de atributos asociados se denomina esquema de
relación , y se denota de la siguiente manera:
</p>

<ul class="org-ul">
<li>R(A<sub>1,A</sub><sub>2</sub>, &#x2026;,A<sub>n</sub>)</li>
<li>Ejemplo: Películas(nombre<sub>película</sub>, año, nombre<sub>director</sub>, cant<sub>oscars</sub>)</li>
</ul>

<p>
Cada uno de los atributos de un esquema de relación está asociado a un dominio
particular.
</p>

<ul class="org-ul">
<li>El dominio de un atributo A<sub>i</sub> se denota dom(A<sub>i</sub>)</li>
<li>En nuestro ejemplo:
<ul class="org-ul">
<li>nombre<sub>película</sub> → dom(nombre<sub>pelicula</sub>) =string</li>
<li>año → dom(año) = N^+</li>
<li>nombre<sub>director</sub> → dom(nombre<sub>director</sub> ) =string</li>
<li>cant<sub>oscars</sub> → dom(cant<sub>oscars</sub>) = N^+</li>
</ul></li>
</ul>

<p>
El grado de una relación es la cantidad de atributos que posee su esquema.
</p>
<ul class="org-ul">
<li>La relación Películas tiene grado 4.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgf80cb83" class="outline-5">
<h5 id="orgf80cb83">Relaciones y tuplas</h5>
<div class="outline-text-5" id="text-orgf80cb83">
<p>
Una relación R con esquema de relación R(A<sub>1,A</sub><sub>2</sub>, &#x2026;,A<sub>n</sub>)
-estando los atributos A<sub>i</sub> asociados a los dominios D<sub>i</sub> = dom(A<sub>i</sub>)-
es un subconjunto del producto cartesiano D<sub>1</sub>_× D<sub>2</sub>_× &#x2026; × D<sub>n</sub>.
</p>

<ul class="org-ul">
<li>Dado el esquema de relación Películas(nombre<sub>película</sub>, año,</li>
</ul>
<p>
nombre<sub>director</sub>, cant<sub>oscars</sub>), se cumple que:
</p>
<ul class="org-ul">
<li>Películas ⊂ dom(nombre<sub>pelicula</sub>) × dom(a˜no) × dom(nombre<sub>director</sub> ) × dom(cant<sub>oscars</sub>)</li>
<li>Por ejemplo:
<ul class="org-ul">
<li>Películas = {(Kill Bill, 2003, Quentin Tarantino, 0), (Django Unchained,
2012, Quentin Tarantino, 2), (Star Wars III, 2005, George Lucas, 0), (El Cisne Negro, 2010, Darren Aronofsky, 1)}</li>
</ul></li>
</ul>

<p>
Una elemento de una relación se denomina tupla .
</p>

<ul class="org-ul">
<li>t = (Kill Bill, 2003, Quentin Tarantino, 0) es una tupla de Películas.</li>
<li>Lo denotamos como t ∈ Películas.</li>
<li>u = (Kill Bill, 2003, Quentin Tarantino, 3) no es una tupla de Películas.</li>
<li>u \nin Películas.</li>
</ul>
</div>
</div>
<div id="outline-container-org8d0ee46" class="outline-5">
<h5 id="org8d0ee46">Relaciones y tuplas</h5>
<div class="outline-text-5" id="text-org8d0ee46">
<p>
Al margen&#x2026;
Si pensamos a una relación como un predicado, podemos predicar
que Películas(Kill Bill, 2003, Quentin Tarantino, 3) = F .
</p>

<p>
El valor tomado por un atributo A en la tupla t se denota t[A] o t.A.
</p>
<ul class="org-ul">
<li>t[nombre<sub>director</sub> ] = t.nombre<sub>director</sub> = Quentin Tarantino.</li>
<li>t[nombre<sub>pelicula</sub>, a˜no] = t.(nombre<sub>pelicula</sub>, a˜no) = (Kill Bill, 2003).</li>
</ul>

<p>
La cardinalidad de una relación R es la cantidad de tuplas que posee.
</p>
<ul class="org-ul">
<li>La simbolizaremos |R| o bien n(R).</li>
<li>Ejemplo: |Películas| = 4.</li>
</ul>
</div>
</div>
<div id="outline-container-org7d6ab17" class="outline-5">
<h5 id="org7d6ab17">Tablas</h5>
<div class="outline-text-5" id="text-org7d6ab17">
<p>
Una forma útil de representar una relación es a través de una tabla en la que
las columnas representan los atributos y las filas representan las tuplas. En el
caso de la relación Películas:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-left">nombre<sub>película</sub></td>
<td class="org-right">año</td>
<td class="org-left">nombre<sub>director</sub></td>
<td class="org-right">cant<sub>oscars</sub></td>
</tr>

<tr>
<td class="org-left">Kill Bill</td>
<td class="org-right">2003</td>
<td class="org-left">Quentin Tarantino</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">Django Unchained</td>
<td class="org-right">2012</td>
<td class="org-left">Quentin Tarantino</td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left">Star Wars III</td>
<td class="org-right">2005</td>
<td class="org-left">George Lucas</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">El Cisne Negro</td>
<td class="org-right">2010</td>
<td class="org-left">Darren Aronofsky</td>
<td class="org-right">1</td>
</tr>
</tbody>
</table>

<p>
Otra nomenclatura comúnmente utilizada –y más vinculada al nivel físico– habla
de archivos en lugar de tablas, registros en lugar de filas, y campos en lugar
de columnas.
</p>
</div>
</div>
</div>
<div id="outline-container-orgd875d63" class="outline-4">
<h4 id="orgd875d63">Restricciones</h4>
<div class="outline-text-4" id="text-orgd875d63">
</div>
<div id="outline-container-org5b56d35" class="outline-5">
<h5 id="org5b56d35">Restricciones de dominio [ELM16 5.1 5.2.1]</h5>
<div class="outline-text-5" id="text-org5b56d35">
<p>
Las relaciones del modelo relacional representan generalmente entidades o
interrelaciones de nuestro modelo de datos.
</p>

<p>
Deben cumplir una serie de restricciones de distintos tipos.
</p>

<p>
Restricciones de dominio
</p>

<p>
Las restricciones de dominio especifican que dado un atributo A de una relación
R, el valor del atributo en una tupla t debe pertenecer al dominio dom(A).
</p>

<p>
Algunos dominios posibles:
</p>
<ul class="org-ul">
<li>N, N^+, R, R^+.</li>
<li>caracter, string, valor booleano, fecha, conjunto finito (categorías).</li>
</ul>

<p>
En el modelo relacional se puede permitir que algunos de los atributos tomen un
valor nulo (NULL) .
</p>

<p>
Los atributos deben ser atómicos (no se permiten atributos compuestos o
multivaluados).
</p>
</div>
</div>
<div id="outline-container-orgacd7d12" class="outline-5">
<h5 id="orgacd7d12">Restricciones de unicidad [ELM16 5.2.2]</h5>
<div class="outline-text-5" id="text-orgacd7d12">
<p>
No pueden existir dos tuplas distintas que coincidan en los valores de todos sus
atributos.
</p>
<ul class="org-ul">
<li>I.e., una tupla no puede estar dos veces!</li>
</ul>

<p>
Sin embargo, generalmente existe un subconjunto SK del conjunto de atributos
(A<sub>1,A</sub><sub>2</sub>, &#x2026;,A<sub>n</sub>) de R que cumple la condición de que dadas dos tuplas s, t ∈
R, las mismas difieren en al menos uno de los atributos de SK .
</p>
<ul class="org-ul">
<li>∃k ∈ SK : s[k ] 6= t[k ].</li>
</ul>

<p>
Cuando un subconjunto SK cumple esta propiedad, diremos que SK es una superclave
de R.
</p>

<p>
Nos interesan aquellas superclaves que son minimales, es decir que no admiten
ningún subconjunto propio con la misma propiedad. A estas superclaves las
llamaremos claves candidatas o simplemente claves .
</p>

<p>
De entre todas las claves candidatas elegiremos una como clave primaria de la
relación. La indicaremos subrayada en el esquema.
</p>

<p>
Ejemplo
</p>

<p>
Películas(nombre<sub>película</sub>, año, nombre<sub>director</sub>, cant<sub>oscars</sub>)
</p>

<p>
Si suponemos que no puede haber dos películas con el mismo
nombre
</p>
<ul class="org-ul">
<li>“nombre<sub>película</sub>” es clave candidata.</li>
<li>Es la única. La designaremos como clave primaria.</li>
<li>Lo representamos como: Películas(nombre<sub>película</sub>, año, nombre<sub>director</sub>,
cant<sub>oscars</sub>).</li>
<li>{nombre<sub>película</sub>, cant<sub>oscars</sub>} es superclave, pero no es clave candidata
porque no es minimal.</li>
</ul>

<p>
Si admitimos que existen películas distintas con el mismo nombre
</p>
<ul class="org-ul">
<li>Deberíamos crear un atributo “id” que nos permita identificar a cada película</li>
<li>El esquema de relación sería ahora: Películas(id, nombre<sub>película</sub>, año,
nombre<sub>director</sub>, cant<sub>oscars</sub>)</li>
<li>“id” será la clave primaria.</li>
<li>{id, nombre<sub>película</sub>} es superclave, pero no es clave candidata!</li>
</ul>

<p>
Ejemplo
</p>

<p>
ActoresPelículas(nombre<sub>película</sub>, año, nombre<sub>director</sub>, cant<sub>oscars</sub>,
nombre<sub>actor</sub>)
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">nombre<sub>película</sub></td>
<td class="org-right">año</td>
<td class="org-left">nombre<sub>director</sub></td>
<td class="org-right">cant<sub>oscars</sub></td>
<td class="org-left">nombre<sub>actor</sub></td>
</tr>

<tr>
<td class="org-left">Kill Bill</td>
<td class="org-right">2003</td>
<td class="org-left">Quentin Tarantino</td>
<td class="org-right">0</td>
<td class="org-left">Uma Thurman</td>
</tr>

<tr>
<td class="org-left">Django Unchained</td>
<td class="org-right">2012</td>
<td class="org-left">Quentin Tarantino</td>
<td class="org-right">2</td>
<td class="org-left">Leonardo DiCaprio</td>
</tr>

<tr>
<td class="org-left">Django Unchained</td>
<td class="org-right">2012</td>
<td class="org-left">Quentin Tarantino</td>
<td class="org-right">2</td>
<td class="org-left">Samuel L. Jackson</td>
</tr>

<tr>
<td class="org-left">Star Wars III</td>
<td class="org-right">2005</td>
<td class="org-left">George Lucas</td>
<td class="org-right">0</td>
<td class="org-left">Samuel L. Jackson</td>
</tr>

<tr>
<td class="org-left">Star Wars III</td>
<td class="org-right">2005</td>
<td class="org-left">George Lucas</td>
<td class="org-right">0</td>
<td class="org-left">Natalie Portman</td>
</tr>

<tr>
<td class="org-left">El Cisne Negro</td>
<td class="org-right">2010</td>
<td class="org-left">Darren Aronofsky</td>
<td class="org-right">1</td>
<td class="org-left">Natalie Portman</td>
</tr>
</tbody>
</table>

<p>
Ya no alcanza “nombre<sub>película</sub>” para identificar una tupla.
</p>

<p>
La clave de la relación ActoresPelículas es {nombre<sub>película</sub>, nombre<sub>actor</sub>}!
</p>

<p>
Nota: Desde ya, este es un diseño desprolijo, por contener información
redundante sobre las películas en distintas tuplas.
</p>
</div>
</div>
<div id="outline-container-org625b4e7" class="outline-5">
<h5 id="org625b4e7">Esquemas de base de datos [ELM16 5.2.3]</h5>
<div class="outline-text-5" id="text-org625b4e7">
<p>
Las bases de datos almacenan múltiples esquemas de relación, muchas veces
relacionados entre ellos.
</p>

<p>
En el modelo relacional, una base de datos se representa a través de un esquema
de base de datos relacional.
</p>

<p>
Un esquema de base de datos relacional S es un conjunto de esquemas de relación
S = {R<sub>1,R</sub><sub>2</sub>, &#x2026;,R<sub>m</sub>} junto con una serie de restricciones de integridad.
</p>

<p>
Ejemplo: Cine = {Películas, Actores, Actuaciones}, en donde:
</p>
<ul class="org-ul">
<li>Películas(nombre<sub>película</sub>, año, nombre<sub>director</sub>, cant<sub>oscars</sub>)</li>
<li>Actores(nombre<sub>actor</sub>, país)</li>
<li>Actuaciones(nombre<sub>película</sub>, nombre<sub>actor</sub>)</li>
</ul>

<p>
La siguiente es una posible instancia de nuestra base de datos Cine:
</p>

<p>
PELÍCULAS
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-left">nombre<sub>película</sub></td>
<td class="org-right">año</td>
<td class="org-left">nombre<sub>director</sub></td>
<td class="org-right">cant<sub>oscars</sub></td>
</tr>

<tr>
<td class="org-left">Kill Bill</td>
<td class="org-right">2003</td>
<td class="org-left">Quentin Tarantino</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">Django Unchained</td>
<td class="org-right">2012</td>
<td class="org-left">Quentin Tarantino</td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left">Star Wars III</td>
<td class="org-right">2005</td>
<td class="org-left">George Lucas</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">El Cisne Negro</td>
<td class="org-right">2010</td>
<td class="org-left">Darren Aronofsky</td>
<td class="org-right">1</td>
</tr>
</tbody>
</table>

<p>
ACTORES
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">nombre<sub>actor</sub></td>
<td class="org-left">país</td>
</tr>

<tr>
<td class="org-left">Uma Thurman</td>
<td class="org-left">Estados Unidos</td>
</tr>

<tr>
<td class="org-left">Leonardo DiCaprio</td>
<td class="org-left">Estados Unidos</td>
</tr>

<tr>
<td class="org-left">Samuel L. Jackson</td>
<td class="org-left">Estados Unidos</td>
</tr>

<tr>
<td class="org-left">Natalie Portman</td>
<td class="org-left">Israel</td>
</tr>
</tbody>
</table>

<p>
ACTUACIONES
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">nombre<sub>película</sub></td>
<td class="org-left">nombre<sub>actor</sub></td>
</tr>

<tr>
<td class="org-left">Kill Bill</td>
<td class="org-left">Uma Thurman</td>
</tr>

<tr>
<td class="org-left">Django Unchained</td>
<td class="org-left">Leonardo DiCaprio</td>
</tr>

<tr>
<td class="org-left">Django Unchained</td>
<td class="org-left">Samuel L. Jackson</td>
</tr>

<tr>
<td class="org-left">Star Wars III</td>
<td class="org-left">Samuel L. Jackson</td>
</tr>

<tr>
<td class="org-left">Star Wars III</td>
<td class="org-left">Natalie Portman</td>
</tr>

<tr>
<td class="org-left">El Cisne Negro</td>
<td class="org-left">Natalie Portman</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org4f1d4ba" class="outline-5">
<h5 id="org4f1d4ba">Restricciones de integridad [ELM16 5.2.4]</h5>
<div class="outline-text-5" id="text-org4f1d4ba">
<p>
Restricción de integridad de entidad: La clave primaria de una relación no puede
tomar el valor nulo.
</p>

<p>
Restricción de integridad referencial: Cuando un conjunto de atributos FK de una
relación R hace referencia a la clave primaria de otra relación S (es decir,
representa el mismo concepto del mundo real que S), entonces para toda tupla de
R debe existir una tupla de S cuya clave primaria sea igual al valor de FK , a
menos que todos los atributos de FK sean nulos.
</p>

<p>
Cine = {Películas, Actores, Actuaciones}
</p>
<ul class="org-ul">
<li>Películas(nombre<sub>película</sub>, año, nombre<sub>director</sub>, cant<sub>oscars</sub>)</li>
<li>Actores(nombre<sub>actor</sub>, país)</li>
<li>Actuaciones(nombre<sub>película</sub>, nombre<sub>actor</sub>)</li>
</ul>

<p>
Ejemplo: Si una tupla en Actuaciones hace referencia “Star Wars III”, entonces
debe existir “Star Wars III” en la relación Películas.
</p>

<p>
Formalmente:
</p>

<ul class="org-ul">
<li>Sean R(A<sub>1,A</sub><sub>2</sub>, &#x2026;,A<sub>r</sub>)y S(B<sub>1,B</sub><sub>2</sub>, &#x2026;,B<sub>s</sub>) dos esquemas de relación.</li>
<li>FK ⊂ (A<sub>1,A</sub><sub>2</sub>, &#x2026;,A<sub>r</sub>) hace referencia a S, cuya clave primaria es PK ⊂
(B<sub>1,B</sub><sub>2</sub>, &#x2026;,B<sub>s</sub>).</li>
<li>Entonces:
<ul class="org-ul">
<li>∀t ∈ R : t[FK ] 6= NULL → ∃s ∈ S : s[PK ] = t[FK ].</li>
</ul></li>
</ul>

<p>
FK se denomina clave foránea de S en R.
</p>

<p>
Estas restricciones generalmente surgen de las interrelaciones entre entidades
de nuestro modelo conceptual.
</p>

<p>
Cine = {Películas, Actores, Actuaciones}
Películas(nombre<sub>película</sub>, año, nombre<sub>director</sub>, cant<sub>oscars</sub>)
Actores(nombre<sub>actor</sub>, país)
Actuaciones(nombre<sub>película</sub>, nombre<sub>actor</sub>)
</p>

<p>
En nuestro ejemplo de la base de datos Cine, Actuaciones.nombre<sub>película</sub> es
clave foránea y hace referencia a la relación Películas. Asímismo,
Actuaciones.nombre<sub>actor</sub> es clave foránea y hace referencia a la relación
Actores.
</p>

<p>
Indicaremos a las claves foráneas con un subrayado punteado.
</p>
</div>
</div>
</div>
<div id="outline-container-orga41d480" class="outline-4">
<h4 id="orga41d480">Operaciones</h4>
<div class="outline-text-4" id="text-orga41d480">
</div>
<div id="outline-container-org9f0d7ef" class="outline-5">
<h5 id="org9f0d7ef">Operaciones</h5>
<div class="outline-text-5" id="text-org9f0d7ef">
<p>
Las operaciones del modelo relacional se especifican a través de lenguajes como
el álgebra relacional o el cálculo relacional.
</p>

<p>
Operaciones
Consulta
Actualización
Inserción
Eliminación
Modificación
</p>
</div>
</div>
<div id="outline-container-org7aa23f5" class="outline-5">
<h5 id="org7aa23f5">Operaciones e integridad [ELM16 5.3]</h5>
<div class="outline-text-5" id="text-org7aa23f5">
<p>
Operaciones de consulta
</p>
<ul class="org-ul">
<li>No modifican ninguna relación existente.</li>
<li>Por lo tanto no violan ningún tipo de restricción.</li>
</ul>

<p>
Operaciones de inserción de tuplas
</p>
<ul class="org-ul">
<li>Pueden violar restricciones de dominio, de unicidad y de integridad de entidad
o referencial.</li>
<li>El SGBD debería rechazar una inserción que viola algún tipo de restricción.</li>
</ul>

<p>
Operaciones de eliminación
</p>
<ul class="org-ul">
<li>Sólo pueden violar restricciones de integridad referencial.</li>
<li>Cuando R referencia a S, y se intenta eliminar una tupla de S que es
referenciada por alguna/s tupla/s en R.</li>
<li>Hay tres estrategias posibles: rechazar la eliminación, eliminar en cascada, o
poner en NULL los atributos referenciales de las tuplas de R.</li>
</ul>

<p>
Operaciones de modificación
</p>
<ul class="org-ul">
<li>Si se modifica una clave foránea, se debe verificar que sus nuevos valores
referencien a una tupla existente de la relación referenciada, o bien sean
todos nulos. De lo contrario se debería rechazar la operación.</li>
<li>Si se modifica una clave primaria, puede violarse cualquiera de las
restricciones de integridad, y se combinan las situaciones indicadas para
inserción y eliminación.</li>
</ul>

<p>
A veces es necesario realizar una serie de operaciones por
completo, o bien no realizarlas
</p>
<ul class="org-ul">
<li>Surge el concepto de transacción, como conjunto ordenado de operaciones que, o
se ejecutan por completo, o no se ejecutan.</li>
<li>La ejecución de una transacción es a todo o nada.</li>
<li>Si una transacción no puede terminar de realizarse porque una de sus
operaciones viola alguna restricción de integridad, entonces debe dejarse la
base de datos en el estado anterior al inicio de la misma.</li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-org073627c" class="outline-3">
<h3 id="org073627c">Pasaje del modelo conceptual al modelo relacional</h3>
<div class="outline-text-3" id="text-org073627c">
</div>
<div id="outline-container-org221adcc" class="outline-4">
<h4 id="org221adcc">Principios</h4>
<div class="outline-text-4" id="text-org221adcc">
</div>
<div id="outline-container-org19672de" class="outline-5">
<h5 id="org19672de">¿Cómo transformamos nuestro modelo ER en un modelo relacional? [ELM16 9]</h5>
<div class="outline-text-5" id="text-org19672de">
<p>
Cada entidad del modelo ER producirá generalmente una relación del modelo
relacional.
</p>

<p>
Hay excepciones!
</p>
<div class="org-src-container">
<pre class="src src-language">Países(nombre_país, población, superficie)
</pre>
</div>

<p>
Atributos multivaluados:
</p>
<div class="org-src-container">
<pre class="src src-language">Médicos(legajo_médico, nombre_médico)
Telefonos(legajo_médico, teléfono)
Mails(legajo_médico, mail)
</pre>
</div>

<p>
Atributos compuestos:
</p>
<div class="org-src-container">
<pre class="src src-language">TarjetasCrédito(MII, issuer_subid, cuenta, checksum, fecha_venc)
</pre>
</div>

<p>
Se representan a través de sus sub-atributos simples.
</p>

<p>
Cada interrelación N:M del modelo ER producirá una relación del modelo
relacional.
</p>
<div class="org-src-container">
<pre class="src src-language">Alumnos(padrón, nombre_alumno)
Asignaturas(código_asignatura, nombre_asignatura)
Aprobaciones(padrón, código_asignatura, fecha_aprobación)
</pre>
</div>

<p>
Cuando la cardinalidad es 1:1 tenemos varias posibilidades.
</p>

<p>
Forma 1: “Relación asociada a la interrelación”
</p>
<div class="org-src-container">
<pre class="src src-language">Gerentes(nombre_gerente, teléfono, mail)
Departamentos(código_dpto, nombre_dpto)
Dirige(nombre_gerente, código_dpto)
</pre>
</div>

<p>
Debemos elegir sólo una de las claves foráneas como clave primaria de Dirige.
</p>

<p>
Forma 2a: Recomendada si Gerente tiene participación total
</p>
<div class="org-src-container">
<pre class="src src-language">Gerentes(nombre_gerente, teléfono, mail, código_dpto)
Departamentos(código_dpto, nombre_dpto)
</pre>
</div>

<p>
Una interrelación con cardinalidad 1:1 puede representarse incluyendo la clave
primaria de una de las entidades participantes como clave foránea en la relación
correspondiente a la otra entidad participante, siempre que esta última tenga
participación total.
</p>

<p>
Forma 2b: Recomendada si Departamento tiene participación
total.
</p>
<div class="org-src-container">
<pre class="src src-language">Gerentes(nombre_gerente, teléfono, mail)
Departamentos(código_dpto, nombre_dpto, nombre_gerente)
</pre>
</div>

<p>
Forma 3: Ambas tienen participación total
</p>
<div class="org-src-container">
<pre class="src src-language">GerentesDepartamentos(nombre_gerente, teléfono, mail, código_dpto, nombre_dpto)
</pre>
</div>

<p>
La clave puede ser o bien “nombre<sub>gerente</sub>”, o bien “código<sub>dpto</sub>”. Ambas son
claves candidatas. En este caso hemos elegido la primera como clave primaria.
</p>

<p>
Con cardinalidad 1:N:
</p>
<div class="org-src-container">
<pre class="src src-language">Futbolistas(nombre_futbolista, f_nac, país)
Clubes(nombre_club, país, división)
JuegaEn(nombre_futbolista, nombre_club, país)
</pre>
</div>

<p>
Aunque si Futbolista tuviera participación total sería conveniente:
</p>
<div class="org-src-container">
<pre class="src src-language">Futbolistas(nombre_futbolista, f_nac, país_futbolista, nombre_club, país_club)
Clubes(nombre_club, país_club, división)
</pre>
</div>

<p>
Entidades débiles:
</p>
<div class="org-src-container">
<pre class="src src-language">Hoteles(nombre_hotel, dirección)
Habitaciones(número_habitación, nombre_hotel, capacidad)
</pre>
</div>

<p>
Nota: No tiene sentido agregar una relación que represente la interrelación
“tiene”.
</p>

<p>
Generalización/Especialización:
</p>
<div class="org-src-container">
<pre class="src src-language">Personas(DNI, nombre_persona)
Alumnos(DNI, padrón)
Docentes(DNI, legajo, fecha_alta)
</pre>
</div>

<p>
Unión:
</p>
<div class="org-src-container">
<pre class="src src-language">
Personas(id_persona, nombre_persona)
PersonasFísicas(DNI, fecha_nacimiento, id_persona)
PersonasJurídicas(CUIT, fecha_constitución, id_persona)
</pre>
</div>

<p>
En este ejemplo debemos crear una clave subrogada para identificar a las
Personas.
</p>

<p>
Interrelaciones ternarias
</p>
<ul class="org-ul">
<li>Con cardinalidad N:N:N
En cada película (Star Wars, &#x2026;), distintos actores (Harrison Ford, Carrie Fisher,</li>
</ul>
<p>
&#x2026;) interpretan distintos personajes (Han Solo, Princesa Leia, &#x2026;). A veces un
mismo actor puede interpretar más de un personaje en una misma película, e
inclusive un mismo personaje en una película puede ser interpretado por más
de un actor. Por último, existen personajes que aparecen en muchas películas.
</p>

<p>
Se crea una relación que representa a la interrelación.
</p>

<div class="org-src-container">
<pre class="src src-language">Actores(nombre_actor, país)
Películas(nombre_película, año)
Personajes(nombre_personaje)
Interpreta(nombre_actor, nombre_película, nombre_personaje)
</pre>
</div>

<ul class="org-ul">
<li>Con cardinalidad 1:N:N</li>
</ul>
<p>
En una escuela, los docentes enseñan distintas asignaturas (“Matemática”,
“Literatura”, &#x2026;) en distintos cursos (3◦A, 3◦B, &#x2026;). Cada asignatura en cada
curso es enseñada por un único docente.
</p>

<p>
Recordemos que la cardinalidad de una entidad determina la cantidad de
instancias de relación en que puede aparecer, fijadas las instancias de los
otros tipos de entidades.
</p>

<div class="org-src-container">
<pre class="src src-language">Docentes(nombre_docente)
Cursos(nombre_curso)
Asignaturas(nombre_asignatura)
Enseña(nombre_curso, nombre_asignatura, nombre_docente)
</pre>
</div>

<ul class="org-ul">
<li>Con cardinalidad 1:1:N</li>
</ul>
<p>
En un hipódromo se corren varias carreras a diario, en las cuales participan
jockeys y caballos. En una carrera, cada jockey está asociado a un caballo, y el
caballo sólo es montado por ese único jockey. Sin embargo, en distintas carreras
un jockey puede variar de caballo, y un mismo caballo puede ser montado por
distintos jockeys.
</p>

<div class="org-src-container">
<pre class="src src-language">Caballos(nombre_caballo)
Jockeys(nombre_jockey, peso)
Carreras(día_carrera, hora_carrera, largo)
Corre(día_carrera, hora_carrera, nombre_caballo, nombre_jockey)
</pre>
</div>

<p>
{día<sub>carrera</sub>, hora<sub>carrera</sub>, nombre<sub>jockey</sub>} también es clave candidata.
</p>
</div>
</div>
</div>

<div id="outline-container-org8973890" class="outline-4">
<h4 id="org8973890">Ejemplo</h4>
<div class="outline-text-4" id="text-org8973890">
</div>
<div id="outline-container-org8b0acbe" class="outline-5">
<h5 id="org8b0acbe">Librería “Jennifer”</h5>
<div class="outline-text-5" id="text-org8b0acbe">
<p>
Los dueños de esta librería desean crear una base de datos de libros que
contenga información sobre los libros actualmente en venta, y que permita hacer
búsquedas por nombre o país de origen del autor, género, idioma y año.
</p>


<div class="org-src-container">
<pre class="src src-language">Autores(id_autor, nombre_autor, fecha_nacimiento, país)
Libros(ISBN, nombre, idioma, año, unidades)
Escribió(id_autor, ISBN)
Géneros(código_género, nombre_género)
Pertenece(ISBN, código_género)
</pre>
</div>
</div>
</div>

<div id="outline-container-org270922c" class="outline-5">
<h5 id="org270922c">RENAPER</h5>
<div class="outline-text-5" id="text-org270922c">
<p>
El Registro Nacional de las Personas quiere mantener una base de datos con el
nombre, DNI, género y fecha de nacimiento de cada ciudadano argentino. Asimismo
desea tener registrados todos los matrimonios en curso (no divorciados)
incluyendo la fecha de matrimonio, y los nacimientos de personas indicando la
identidad de los padres en caso que la misma sea conocida.
</p>

<p>
Hipótesis: Suponga que todas las personas son argentinas.
</p>

<div class="org-src-container">
<pre class="src src-language">Personas(DNI, nombre, género, fecha_nacimiento)
HijoDe(DNI_padre, DNI_hijo)
CasadaCon(DNI1, DNI2, fecha_matrimonio)
</pre>
</div>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb8d21de" class="outline-2">
<h2 id="orgb8d21de">Bibliografía</h2>
<div class="outline-text-2" id="text-orgb8d21de">
</div>
<div id="outline-container-org0371da4" class="outline-3">
<h3 id="org0371da4">[ELM16] Fundamentals of Database Systems, 7th Edition.</h3>
<div class="outline-text-3" id="text-org0371da4">
<p>
R. Elmasri, S. Navathe, 2016.
Capítulo 5, Capítulo 9
</p>
</div>
</div>
<div id="outline-container-org1c7e43e" class="outline-3">
<h3 id="org1c7e43e">[GM09] Database Systems, The Complete Book, 2nd Edition.</h3>
<div class="outline-text-3" id="text-org1c7e43e">
<p>
H. García-Molina, J. Ullman, J. Widom, 2009.
Capítulo 2.1, 2.2, Capítulo 4.5, 4.6
Utiliza una notación distinta para la cardinalidad.
</p>
</div>
</div>
<div id="outline-container-org0162410" class="outline-3">
<h3 id="org0162410">[SILB10] Database System Concepts, 6th Edition.</h3>
<div class="outline-text-3" id="text-org0162410">
<p>
A. Silberschatz, H. Korth, S. Sudarshan, 2010.
Capítulo 2
Utiliza una notación distinta para la cardinalidad.
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
Last update: 2020-09-16 11:56
</div>
</body>
</html>
