<?xml version="1.0" encoding="utf-8"?>
<?xml version="1.0" encoding="utf-8"?>
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-06-18 Thu 15:03 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ventana deslizante y TCP</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="/res/org.css"/>
<link rel="stylesheet" type="text/css" href="/home/mk/Documents/blogs/org.css"/>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.cacheClassElem = elem.className;
         elem.cacheClassTarget = target.className;
         target.className = "code-highlighted";
         elem.className   = "code-highlighted";
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(elem.cacheClassElem)
         elem.className = elem.cacheClassElem;
       if(elem.cacheClassTarget)
         target.className = elem.cacheClassTarget;
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">

<div id="outline-container-org66ee406" class="outline-2">
<h2 id="org66ee406">Pipelined reliable Data Transfer Protocols</h2>
<div class="outline-text-2" id="text-org66ee406">
<p>
Protocol rdt3.0 is a functionally correct protocol, but its performance problem
is the fact that it is a stop-and-wait protocol.
</p>

<p>
imagen 3.16
</p>

<p>
This stop-and-wait protocol limits the sender <code>utilization</code> of the channel (the
amount of time the sender actually sends bits into the channel).
</p>

<p>
image 3.17
</p>


<p>
The solution to this particular performance problem is simple: Rather than operate in a stop-and-wait
manner, the sender is allowed to send multiple packets without waiting for acknowledgments.
</p>

<p>
illustrated in Figure 3.17(b). Figure 3.18(b) shows that if the sender is allowed to transmit three packets
before having to wait for acknowledgments, the utilization of the sender is essentially tripled.
</p>

<p>
this technique is known as <code>pipelining</code>. Pipelining has the following consequences
for reliable data transfer protocols:
</p>

<ul class="org-ul">
<li>The range of sequence numbers must be increased, since each in-transit packet
(not counting retransmissions) must have a unique sequence number and there
may be multiple, in-transit, unacknowledged packets.</li>
<li>The sender and receiver sides of the protocols may have to buffer more than
one packet. Minimally, the sender will have to buffer packets that have been
transmitted but not yet acknowledged. Buffering of correctly received packets
may also be needed at the receiver, as discussed below.</li>
<li>The range of sequence numbers needed and the buffering requirements will
depend on the manner in which a data transfer protocol responds to lost,
corrupted, and overly delayed packets. Two basic approaches toward pipelined
error recovery can be identified: <code>Go-Back-N</code> and <code>selective repeat</code>.</li>
</ul>

<p>
imagen 3.18
</p>
</div>

<div id="outline-container-org357ea8c" class="outline-3">
<h3 id="org357ea8c">Go-Back-N (GBN)</h3>
<div class="outline-text-3" id="text-org357ea8c">
<p>
In a Go-Back-N (GBN) protocol, the sender is allowed to transmit multiple packets (when available)
without waiting for an acknowledgment, but is constrained to have no more than some maximum
allowable number, N, of unacknowledged packets in the pipeline.
</p>

<p>
imagen 3.19
</p>

<p>
Figure 3.19 shows the sender’s view of the range of sequence numbers in a GBN
protocol. If we define <code>base</code> to be the sequence number of the oldest
unacknowledged packet and <code>nextseqnum</code> to be the smallest unused sequence number
(that is, the sequence number of the next packet to be sent), then four
intervals in the range of sequence numbers can be identified.
</p>

<p>
Sequence numbers in the interval
</p>
<ul class="org-ul">
<li><code>[ 0, base-1 ]</code> correspond to packets that have already been transmitted and
acknowledged.</li>
<li><code>[base, nextseqnum-1]</code> corresponds to packets that have been sent but not yet
acknowledged. Sequence numbers in the interval</li>
<li><code>[nextseqnum, base+N-1]</code> can be used for packets that can be sent immediately,
should data arrive from the upper layer.</li>
<li><code>[base+N, ...]</code> cannot be used until an unacknowledged packet currently in the
pipeline (specifically, the packet with sequence number <code>base</code> ) has been
acknowledged.</li>
</ul>

<p>
the range of permissible sequence numbers for transmitted but not yet
acknowledged packets can be viewed as a window of size <code>N</code> over the range of
sequence numbers.
</p>

<p>
As the protocol operates, this window slides forward over the sequence number
space. For this reason, <code>N</code> is often referred to as the <code>window size</code> and the
GBN protocol itself as a <code>sliding-window protocol</code>.
</p>



<p>
You might be wondering <b>why we would even limit the number of outstanding,
unacknowledged packets to a value of N?*</b>. <b>Why not allow an
unlimited number of such packets?</b>
</p>

<p>
flow control is one reason to impose a limit on the sender. We’ll examine
another reason to do so when we study TCP congestion control.
</p>



<p>
In practice, a packet’s sequence number is carried in a fixed-length field in the packet header. If k is the
number of bits in the packet sequence number field, the range of sequence numbers is thus
</p>

<p>
Figures 3.20 and 3.21 give an extended FSM description of the sender and receiver sides of an ACK-based, NAK-free, GBN protocol.
</p>

<p>
imagen 3.20
</p>

<p>
imagen 3.21
</p>

<p>
we have added variables (similar to programming-language variables) for base and
nextseqnum , and added operations on these variables and conditional actions
involving these variables.
</p>

<p>
The GBN sender must respond to three types of events:
</p>
<dl class="org-dl">
<dt>Invocation from above</dt><dd><p>
When rdt<sub>send</sub>() is called from above, the sender
first checks to see if the window is full, that is, whether there are N
outstanding, unacknowledged packets.
</p>
<ul class="org-ul">
<li>If the window is not full, a packet is created and sent, and variables are
appropriately updated.</li>
<li>If the window is full, the sender simply returns the data back to the upper
layer, an implicit indication that the window is full.</li>
</ul>
<p>
The upper layer would presumably then have to try again later. In a real
implementation, the sender would more likely have either buffered (but not
immediately sent) this data, or would have a synchronization mechanism (for
example, a semaphore or a flag) that would allow the upper layer to call
rdt<sub>send</sub>() only when the window is not full.
</p></dd>
<dt>Receipt of an ACK</dt><dd>In our GBN protocol, an acknowledgment for a packet with
sequence number n will be taken to be a <code>cumulative acknowledgment</code>,
indicating that all packets with a sequence number up to and including n have
been correctly received at the receiver.</dd>
<dt>A timeout event</dt><dd>The protocol’s name, “Go-Back-N,” is derived from the
sender’s behavior in the presence of lost or overly delayed packets. As in the
stop-and-wait protocol, a timer will again be used to recover from lost data
or acknowledgment packets. If a timeout occurs, the sender resends all packets
that have been previously sent but that have not yet been acknowledged. Our
sender in Figure 3.20 uses only a single timer, which can be thought of as a
timer for the oldest transmitted but not yet acknowledged packet. If an ACK is
received but there are still additional transmitted but not yet acknowledged
packets, the timer is restarted. If there are no outstanding, unacknowledged
packets, the timer is stopped.</dd>
</dl>


<p>
The receiver’s actions in GBN are :
</p>
<ul class="org-ul">
<li>If a packet with sequence number n is received correctly and is in order (that
is, the data last delivered to the upper layer came from a packet with
sequence number ), the receiver sends an ACK for packet n and delivers the
data portion of the packet to the upper layer.</li>
<li>In all other cases, the receiver discards the packet and resends an ACK for
the most recently received in-order packet. Note that since packets are
delivered one at a time to the upper layer, if packet k has been received and
delivered, then all packets with a sequence number lower than k have also been
delivered. Thus, the use of <code>cumulative acknowledgments</code> is a natural choice for GBN.</li>
</ul>


<p>
<b>In our GBN protocol, the receiver discards out-of-order packets.</b>
</p>

<p>
Recall that the receiver must deliver data in order to the upper layer. Suppose
now that packet n is expected, but packet n+1 arrives. Because data must be
delivered in order, the receiver could buffer packet n+1 and then deliver
this packet to the upper layer after it had later received and delivered packet
n. However, if packet n is lost, both it and packet n+1 will eventually be
retransmitted as a result of the GBN retransmission rule at the sender.
</p>

<p>
Thus, the receiver can simply discard packet.
</p>

<p>
The advantage is the simplicity of receiver buffering—the receiver need not
buffer any out-of-order packets. Thus, while the sender must maintain the upper
and lower bounds of its window and the position of <code>nextseqnum</code> within this
window, the only piece of information the receiver need maintain is the sequence
number of the next in-order packet held in the variable <code>expectedseqnum</code>.
</p>

<p>
the disadvantage of throwing away a correctly received packet is that the
subsequent retransmission of that packet might be lost or garbled and thus even
more retransmissions would be required.
</p>

<p>
imagen 3.22
</p>

<p>
Figure 3.22 shows the operation of the GBN protocol for the case of a window
size of four packets. Because of this window size limitation, the sender sends
packets 0 through 3 but then must wait for one or more of these packets to be
acknowledged before proceeding. As each successive ACK (for example, ACK0 and
ACK1 ) is received, the window slides forward and the sender can transmit one
new packet (pkt4 and pkt5, respectively). On the receiver side, packet 2 is lost
and thus packets 3, 4, and 5 are found to be out of order and are discarded.
</p>
</div>
</div>




<div id="outline-container-org12c12ee" class="outline-3">
<h3 id="org12c12ee">Selective Repeat (SR)</h3>
</div>
</div>
</div>
<div id="postamble" class="status">
Last update: 2020-06-18 15:03
</div>
</body>
</html>
